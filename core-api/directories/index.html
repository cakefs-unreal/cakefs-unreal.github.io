
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://cakeio-unreal.github.io/core-api/directories/">
      
      
        <link rel="prev" href="../files/">
      
      
        <link rel="next" href="../error-handling/">
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.22">
    
    
      
        <title>Directories - CakeFS</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.84d31ad4.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Onest:300,300i,400,400i,700,700i%7CFira+Code:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Onest";--md-code-font:"Fira Code"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="pink" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#overview" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="CakeFS" class="md-header__button md-logo" aria-label="CakeFS" data-md-component="logo">
      
  <img src="../../assets/SiteIcon.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            CakeFS
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Directories
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="pink" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="pink" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../.." class="md-tabs__link">
        
  
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../tour/" class="md-tabs__link">
        
  
  
    
  
  Tour

      </a>
    </li>
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../getting-started/installation/" class="md-tabs__link">
          
  
  
  Getting Started

        </a>
      </li>
    
  

      
        
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../overview/" class="md-tabs__link">
          
  
  
  Core API Documentation

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../advanced-api/advanced-usage/" class="md-tabs__link">
          
  
  
  Advanced API Documentation

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


  

<nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="CakeFS" class="md-nav__button md-logo" aria-label="CakeFS" data-md-component="logo">
      
  <img src="../../assets/SiteIcon.png" alt="logo">

    </a>
    CakeFS
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tour/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Tour
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Getting Started
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Getting Started
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/installation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Installation
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
      
        
        
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" checked>
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    Core API Documentation
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Core API Documentation
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_2" checked>
        
          
          <label class="md-nav__link" for="__nav_4_2" id="__nav_4_2_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    Core Objects
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4_2">
            <span class="md-nav__icon md-icon"></span>
            Core Objects
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../paths/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Paths
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../file-extensions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    File Extensions
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../files/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Files
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Directories
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Directories
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    <span class="md-ellipsis">
      Overview
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Overview">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#source-code-information" class="md-nav__link">
    <span class="md-ellipsis">
      Source Code Information
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#basic-usage" class="md-nav__link">
    <span class="md-ellipsis">
      Basic Usage
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Basic Usage">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#constructing-cakedir-objects" class="md-nav__link">
    <span class="md-ellipsis">
      Constructing CakeDir Objects
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#accessing-the-directory-path" class="md-nav__link">
    <span class="md-ellipsis">
      Accessing the Directory Path
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#modifying-the-directory-path" class="md-nav__link">
    <span class="md-ellipsis">
      Modifying the Directory Path
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#accessing-the-directory-name" class="md-nav__link">
    <span class="md-ellipsis">
      Accessing the Directory Name
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#directory-equality" class="md-nav__link">
    <span class="md-ellipsis">
      Directory Equality
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#file-extension-filter" class="md-nav__link">
    <span class="md-ellipsis">
      File Extension Filter
    </span>
  </a>
  
    <nav class="md-nav" aria-label="File Extension Filter">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#file-extension-query-syntax" class="md-nav__link">
    <span class="md-ellipsis">
      File Extension Query Syntax
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#file-extension-filter-initialization" class="md-nav__link">
    <span class="md-ellipsis">
      File Extension Filter Initialization
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#modifying-the-file-extension-filter" class="md-nav__link">
    <span class="md-ellipsis">
      Modifying the File Extension Filter
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#clearing-all-data" class="md-nav__link">
    <span class="md-ellipsis">
      Clearing All Data
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#filesystem-operations" class="md-nav__link">
    <span class="md-ellipsis">
      Filesystem Operations
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Filesystem Operations">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#checking-directory-existence" class="md-nav__link">
    <span class="md-ellipsis">
      Checking Directory Existence
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#creating-directories" class="md-nav__link">
    <span class="md-ellipsis">
      Creating Directories
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#deleting-directories" class="md-nav__link">
    <span class="md-ellipsis">
      Deleting Directories
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#copying-directories" class="md-nav__link">
    <span class="md-ellipsis">
      Copying Directories
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#moving-directories" class="md-nav__link">
    <span class="md-ellipsis">
      Moving Directories
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#understanding-copy-move-overwrite-behavior" class="md-nav__link">
    <span class="md-ellipsis">
      Understanding Copy / Move Overwrite behavior
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#changing-directory-name" class="md-nav__link">
    <span class="md-ellipsis">
      Changing Directory Name
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#retrieving-directory-os-stat-information" class="md-nav__link">
    <span class="md-ellipsis">
      Retrieving Directory OS Stat Information
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#directory-traversal" class="md-nav__link">
    <span class="md-ellipsis">
      Directory Traversal
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Directory Traversal">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#traversal-overview" class="md-nav__link">
    <span class="md-ellipsis">
      Traversal Overview
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Traversal Overview">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#traversal-depth" class="md-nav__link">
    <span class="md-ellipsis">
      Traversal Depth
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#traversal-targets" class="md-nav__link">
    <span class="md-ellipsis">
      Traversal Targets
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#traversal-styles" class="md-nav__link">
    <span class="md-ellipsis">
      Traversal Styles
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#traversal-function-naming" class="md-nav__link">
    <span class="md-ellipsis">
      Traversal Function Naming
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#traversal-callbacks" class="md-nav__link">
    <span class="md-ellipsis">
      Traversal Callbacks
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#using-traversals" class="md-nav__link">
    <span class="md-ellipsis">
      Using Traversals
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Using Traversals">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#unguarded-traversals" class="md-nav__link">
    <span class="md-ellipsis">
      Unguarded Traversals
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#guarded-traversals" class="md-nav__link">
    <span class="md-ellipsis">
      Guarded Traversals
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#search-traversals" class="md-nav__link">
    <span class="md-ellipsis">
      Search Traversals
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#filtered-traversals" class="md-nav__link">
    <span class="md-ellipsis">
      Filtered Traversals
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#advanced-usage" class="md-nav__link">
    <span class="md-ellipsis">
      Advanced Usage
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Advanced Usage">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#checking-if-a-directory-contains-elements" class="md-nav__link">
    <span class="md-ellipsis">
      Checking if a Directory Contains Elements
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#advanced-clone-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Advanced Clone Functions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Advanced Clone Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#clonewithnewpath" class="md-nav__link">
    <span class="md-ellipsis">
      CloneWithNewPath
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#clonewithnewparent" class="md-nav__link">
    <span class="md-ellipsis">
      CloneWithNewParent
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#building-child-items" class="md-nav__link">
    <span class="md-ellipsis">
      Building Child Items
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Building Child Items">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#buildchildpath" class="md-nav__link">
    <span class="md-ellipsis">
      BuildChildPath
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#buildchildfile" class="md-nav__link">
    <span class="md-ellipsis">
      BuildChildFile
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#buildchilddir" class="md-nav__link">
    <span class="md-ellipsis">
      BuildChildDir
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4_3" >
        
          
          <label class="md-nav__link" for="__nav_4_3" id="__nav_4_3_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    Error Handling
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_3">
            <span class="md-nav__icon md-icon"></span>
            Error Handling
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../error-handling/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Error Handling Patterns
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../error-maps/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Error Maps
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4_4" >
        
          
          <label class="md-nav__link" for="__nav_4_4" id="__nav_4_4_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    Fundamental Types
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_4">
            <span class="md-nav__icon md-icon"></span>
            Fundamental Types
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../fundamental-types/policies/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Policies
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../fundamental-types/outcomes/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Outcomes
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../fundamental-types/signals/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Signals
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../fundamental-types/results/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Results
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../fundamental-types/cake-orders/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Cake Orders
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../fundamental-types/settings/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Settings
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Advanced API Documentation
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Advanced API Documentation
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../advanced-api/advanced-usage/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5_2" >
        
          
          <label class="md-nav__link" for="__nav_5_2" id="__nav_5_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Utility Libraries
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2">
            <span class="md-nav__icon md-icon"></span>
            Utility Libraries
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../advanced-api/cake-mix/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    CakeMix
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../advanced-api/cake-async-fs/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    CakeAsyncFS
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5_3" >
        
          
          <label class="md-nav__link" for="__nav_5_3" id="__nav_5_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    CakeFS Services
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_3">
            <span class="md-nav__icon md-icon"></span>
            CakeFS Services
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../advanced-api/services/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    CakeFS Services Overview
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



  <h1>Directories</h1>

<h2 id="overview">Overview</h2>
<p>CakeFS provides CakeDir objects that offer a comprehensive and ergonomic interface for directory traversal and other common directory IO operations. Just like CakeFile objects, CakeDir objects store their paths using CakePath objects. In addition to their path, however, CakeDir objects also store a collection of <a href="/core-api/file-extensions/">CakeFileExt</a> objects, called the <strong>file extension filter</strong>, which can be used to selectively visit the files contained in a directory.</p>
<h3 id="source-code-information">Source Code Information</h3>
<p>FCakeDir is defined in <code>CakeIO/CakeDir.h</code>.</p>
<div class="language-c++ highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1"></a><a href="#__codelineno-0-1"><span class="linenos" data-linenos="1 "></span></a><span class="cp">#include</span><span class="w"> </span><span class="cpf">&quot;CakeIO/CakeDir.h&quot;</span>
</code></pre></div>
<p>All of the following C++ examples will assume this has already been included.</p>
<h2 id="basic-usage">Basic Usage</h2>
<h3 id="constructing-cakedir-objects">Constructing CakeDir Objects</h3>
<p>The simplest way to construct an FCakeDir is to submit a string or an FCakePath that represents the directory path we want to use.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="1:2"><input checked="checked" id="__tabbed_1_1" name="__tabbed_1" type="radio" /><input id="__tabbed_1_2" name="__tabbed_1" type="radio" /><div class="tabbed-labels"><label for="__tabbed_1_1">C++</label><label for="__tabbed_1_2">Blueprint</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="language-c++ highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1"></a><a href="#__codelineno-1-1"><span class="linenos" data-linenos="1 "></span></a><span class="n">FCakeDir</span><span class="w"> </span><span class="n">DirectoryViaString</span><span class="p">{</span><span class="w"> </span><span class="n">TEXTVIEW</span><span class="p">(</span><span class="s">&quot;X:/game&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">};</span>
<a id="__codelineno-1-2" name="__codelineno-1-2"></a><a href="#__codelineno-1-2"><span class="linenos" data-linenos="2 "></span></a>
<a id="__codelineno-1-3" name="__codelineno-1-3"></a><a href="#__codelineno-1-3"><span class="linenos" data-linenos="3 "></span></a><span class="n">FCakeDir</span><span class="w"> </span><span class="n">DirectoryViaPath</span><span class="p">{</span><span class="w"> </span>
<a id="__codelineno-1-4" name="__codelineno-1-4"></a><a href="#__codelineno-1-4"><span class="linenos" data-linenos="4 "></span></a><span class="w">    </span><span class="n">FCakePath</span><span class="p">{</span><span class="w"> </span><span class="n">TEXTVIEW</span><span class="p">(</span><span class="s">&quot;X:/game&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">}</span>
<a id="__codelineno-1-5" name="__codelineno-1-5"></a><a href="#__codelineno-1-5"><span class="linenos" data-linenos="5 "></span></a><span class="p">};</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<p><img alt="Make Cake Dir" src="../img/bp/dir/make-cake-dir.png" /></p>
</div>
</div>
</div>
<p>If we know we are going to use this directory for <a href="#filtered-traversals">filtered traversals</a>, we can set its initial file extension filter by providing a <a href="#file-extension-filter">file extension filter</a>. In the following examples, our directory will hold the path <code>X:/game</code> and its file extension filter will holds two extensions: <code>.txt</code> and <code>.bin</code>.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="2:2"><input checked="checked" id="__tabbed_2_1" name="__tabbed_2" type="radio" /><input id="__tabbed_2_2" name="__tabbed_2" type="radio" /><div class="tabbed-labels"><label for="__tabbed_2_1">C++</label><label for="__tabbed_2_2">Blueprint</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="language-c++ highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1"></a><a href="#__codelineno-2-1"><span class="linenos" data-linenos="1 "></span></a><span class="n">FCakeExtFilterQuery</span><span class="w"> </span><span class="n">Query</span><span class="p">{</span><span class="w"> </span><span class="n">TEXT</span><span class="p">(</span><span class="s">&quot;txt | bin&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">};</span>
<a id="__codelineno-2-2" name="__codelineno-2-2"></a><a href="#__codelineno-2-2"><span class="linenos" data-linenos="2 "></span></a>
<a id="__codelineno-2-3" name="__codelineno-2-3"></a><a href="#__codelineno-2-3"><span class="linenos" data-linenos="3 "></span></a><span class="n">FCakeDir</span><span class="w"> </span><span class="n">DirectoryViaString</span><span class="p">{</span><span class="w"> </span><span class="n">TEXTVIEW</span><span class="p">(</span><span class="s">&quot;X:/game&quot;</span><span class="p">),</span><span class="w"> </span><span class="n">Query</span><span class="w"> </span><span class="p">};</span>
<a id="__codelineno-2-4" name="__codelineno-2-4"></a><a href="#__codelineno-2-4"><span class="linenos" data-linenos="4 "></span></a>
<a id="__codelineno-2-5" name="__codelineno-2-5"></a><a href="#__codelineno-2-5"><span class="linenos" data-linenos="5 "></span></a><span class="n">FCakeDir</span><span class="w"> </span><span class="n">DirectoryViaPath</span><span class="p">{</span><span class="w"> </span>
<a id="__codelineno-2-6" name="__codelineno-2-6"></a><a href="#__codelineno-2-6"><span class="linenos" data-linenos="6 "></span></a><span class="w">    </span><span class="n">FCakePath</span><span class="p">{</span><span class="w"> </span><span class="n">TEXTVIEW</span><span class="p">(</span><span class="s">&quot;X:/game&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">},</span><span class="w"> </span><span class="n">Query</span>
<a id="__codelineno-2-7" name="__codelineno-2-7"></a><a href="#__codelineno-2-7"><span class="linenos" data-linenos="7 "></span></a><span class="p">};</span>
</code></pre></div>
<p>If you are not using a cached query and don't want to pay the cost of creating one for just one directory, you can use the special constructor overload which takes an FCakePath and an FStringView for the query instead:</p>
<div class="language-c++ highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1"></a><a href="#__codelineno-3-1"><span class="linenos" data-linenos="1 "></span></a><span class="n">FCakeDir</span><span class="w"> </span><span class="n">DirectoryViaPath</span><span class="p">{</span><span class="w"> </span>
<a id="__codelineno-3-2" name="__codelineno-3-2"></a><a href="#__codelineno-3-2"><span class="linenos" data-linenos="2 "></span></a><span class="w">    </span><span class="n">FCakePath</span><span class="p">{</span><span class="w"> </span><span class="n">TEXTVIEW</span><span class="p">(</span><span class="s">&quot;X:/game&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">},</span><span class="w"> </span><span class="n">TEXTVIEW</span><span class="p">(</span><span class="s">&quot;txt | bin&quot;</span><span class="p">)</span>
<a id="__codelineno-3-3" name="__codelineno-3-3"></a><a href="#__codelineno-3-3"><span class="linenos" data-linenos="3 "></span></a><span class="p">};</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<p><img alt="Make Cake Dir With Filter" src="../img/bp/dir/make-cake-dir-with-filter.png" /></p>
</div>
</div>
</div>
<p>We can get a copy of an existing CakeDir via <code>Clone</code>:</p>
<div class="tabbed-set tabbed-alternate" data-tabs="3:2"><input checked="checked" id="__tabbed_3_1" name="__tabbed_3" type="radio" /><input id="__tabbed_3_2" name="__tabbed_3" type="radio" /><div class="tabbed-labels"><label for="__tabbed_3_1">C++</label><label for="__tabbed_3_2">Blueprint</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="language-c++ highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1"></a><a href="#__codelineno-4-1"><span class="linenos" data-linenos="1 "></span></a><span class="n">FCakeDir</span><span class="w"> </span><span class="n">DirectoryGame</span><span class="p">{</span><span class="w"> </span><span class="n">FCakePath</span><span class="p">{</span><span class="n">TEXTVIEW</span><span class="p">(</span><span class="s">&quot;X:/game&quot;</span><span class="p">)},</span><span class="w"> </span><span class="n">TEXTVIEW</span><span class="p">(</span><span class="s">&quot;bin | dat&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">};</span>
<a id="__codelineno-4-2" name="__codelineno-4-2"></a><a href="#__codelineno-4-2"><span class="linenos" data-linenos="2 "></span></a><span class="w">    </span><span class="c1">// Path: &quot;x/game&quot;</span>
<a id="__codelineno-4-3" name="__codelineno-4-3"></a><a href="#__codelineno-4-3"><span class="linenos" data-linenos="3 "></span></a><span class="w">    </span><span class="c1">// File Extension Filter: [.bin, .dat]</span>
<a id="__codelineno-4-4" name="__codelineno-4-4"></a><a href="#__codelineno-4-4"><span class="linenos" data-linenos="4 "></span></a>
<a id="__codelineno-4-5" name="__codelineno-4-5"></a><span class="hll"><a href="#__codelineno-4-5"><span class="linenos" data-linenos="5 "></span></a><span class="n">FCakeDir</span><span class="w"> </span><span class="n">GameCloned</span><span class="p">{</span><span class="w"> </span><span class="n">DirectoryGame</span><span class="p">.</span><span class="n">Clone</span><span class="p">()</span><span class="w"> </span><span class="p">};</span>
</span><a id="__codelineno-4-6" name="__codelineno-4-6"></a><a href="#__codelineno-4-6"><span class="linenos" data-linenos="6 "></span></a><span class="w">    </span><span class="c1">// Path: &quot;x/game&quot;</span>
<a id="__codelineno-4-7" name="__codelineno-4-7"></a><a href="#__codelineno-4-7"><span class="linenos" data-linenos="7 "></span></a><span class="w">    </span><span class="c1">// File Extension Filter: [.bin, .dat]</span>
</code></pre></div>
<div class="language-c++ highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1"></a><a href="#__codelineno-5-1"><span class="linenos" data-linenos="1 "></span></a><span class="n">FCakeDir</span><span class="w"> </span><span class="n">DirectoryGame</span><span class="p">{</span><span class="w"> </span><span class="n">FCakePath</span><span class="p">{</span><span class="n">TEXTVIEW</span><span class="p">(</span><span class="s">&quot;X:/game&quot;</span><span class="p">)},</span><span class="w"> </span><span class="n">TEXTVIEW</span><span class="p">(</span><span class="s">&quot;bin | dat&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">};</span>
<a id="__codelineno-5-2" name="__codelineno-5-2"></a><a href="#__codelineno-5-2"><span class="linenos" data-linenos="2 "></span></a><span class="w">    </span><span class="c1">// Path: &quot;x/game&quot;</span>
<a id="__codelineno-5-3" name="__codelineno-5-3"></a><a href="#__codelineno-5-3"><span class="linenos" data-linenos="3 "></span></a><span class="w">    </span><span class="c1">// File Extension Filter: [.bin, .dat]</span>
<a id="__codelineno-5-4" name="__codelineno-5-4"></a><a href="#__codelineno-5-4"><span class="linenos" data-linenos="4 "></span></a>
<a id="__codelineno-5-5" name="__codelineno-5-5"></a><span class="hll"><a href="#__codelineno-5-5"><span class="linenos" data-linenos="5 "></span></a><span class="n">FCakeDir</span><span class="w"> </span><span class="n">ClonedWithoutExtFilter</span><span class="p">{</span><span class="w"> </span>
</span><a id="__codelineno-5-6" name="__codelineno-5-6"></a><a href="#__codelineno-5-6"><span class="linenos" data-linenos="6 "></span></a><span class="w">    </span><span class="n">DirectoryGame</span><span class="p">.</span><span class="n">Clone</span><span class="p">(</span><span class="n">ECakePolicyExtFilterClone</span><span class="o">::</span><span class="n">DoNotCloneFilter</span><span class="p">)};</span>
<a id="__codelineno-5-7" name="__codelineno-5-7"></a><a href="#__codelineno-5-7"><span class="linenos" data-linenos="7 "></span></a><span class="w">    </span><span class="c1">// Path: &quot;x/game&quot;</span>
<a id="__codelineno-5-8" name="__codelineno-5-8"></a><a href="#__codelineno-5-8"><span class="linenos" data-linenos="8 "></span></a><span class="w">    </span><span class="c1">// File Extension Filter: []</span>
</code></pre></div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>In general, Clone functions in CakeFS behave identically to copy constructors. However, FCakeDir's <code>Clone</code> function is an exception since it provides more control than its copy constructor counterpart.</p>
</div>
</div>
<div class="tabbed-block">
<p><img alt="Clone" src="../img/bp/dir/clone.png" /></p>
</div>
</div>
</div>
<p>By default, this function will also ensure that the cloned CakeDir has an identical file extension filter. We can control this directly via the 
<a href="/core-api/special-types/policies/#extfilterclone">ExtFilterClone</a>
 parameter. This parameter is optional in C++.</p>
<h3 id="accessing-the-directory-path">Accessing the Directory Path</h3>
<p>We can access a CakeDir's associated CakePath via <code>GetPath</code>.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="4:2"><input checked="checked" id="__tabbed_4_1" name="__tabbed_4" type="radio" /><input id="__tabbed_4_2" name="__tabbed_4" type="radio" /><div class="tabbed-labels"><label for="__tabbed_4_1">C++</label><label for="__tabbed_4_2">Blueprint</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="language-c++ highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1"></a><a href="#__codelineno-6-1"><span class="linenos" data-linenos="1 "></span></a><span class="k">auto</span><span class="w"> </span><span class="n">PrintPath</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[](</span><span class="k">const</span><span class="w"> </span><span class="n">FCakePath</span><span class="o">&amp;</span><span class="w"> </span><span class="n">Path</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span>
<a id="__codelineno-6-2" name="__codelineno-6-2"></a><a href="#__codelineno-6-2"><span class="linenos" data-linenos="2 "></span></a><span class="w">    </span><span class="n">UE_LOG</span><span class="p">(</span><span class="n">LogTemp</span><span class="p">,</span><span class="w"> </span><span class="n">Warning</span><span class="p">,</span><span class="w"> </span><span class="n">TEXT</span><span class="p">(</span><span class="s">&quot;Path: [%s]&quot;</span><span class="p">),</span><span class="w"> </span><span class="o">**</span><span class="n">Path</span><span class="p">);</span>
<a id="__codelineno-6-3" name="__codelineno-6-3"></a><a href="#__codelineno-6-3"><span class="linenos" data-linenos="3 "></span></a><span class="p">};</span>
<a id="__codelineno-6-4" name="__codelineno-6-4"></a><a href="#__codelineno-6-4"><span class="linenos" data-linenos="4 "></span></a>
<a id="__codelineno-6-5" name="__codelineno-6-5"></a><a href="#__codelineno-6-5"><span class="linenos" data-linenos="5 "></span></a><span class="n">FCakeDir</span><span class="w"> </span><span class="n">DirectoryGame</span><span class="p">{</span><span class="w"> </span><span class="n">FCakePath</span><span class="p">{</span><span class="n">TEXTVIEW</span><span class="p">(</span><span class="s">&quot;X:/game&quot;</span><span class="p">)},</span><span class="w"> </span><span class="n">TEXTVIEW</span><span class="p">(</span><span class="s">&quot;bin | dat&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">};</span>
<a id="__codelineno-6-6" name="__codelineno-6-6"></a><a href="#__codelineno-6-6"><span class="linenos" data-linenos="6 "></span></a>
<a id="__codelineno-6-7" name="__codelineno-6-7"></a><span class="hll"><a href="#__codelineno-6-7"><span class="linenos" data-linenos="7 "></span></a><span class="n">PrintPath</span><span class="p">(</span><span class="n">DirectoryGame</span><span class="p">.</span><span class="n">GetPath</span><span class="p">());</span>
</span><a id="__codelineno-6-8" name="__codelineno-6-8"></a><span class="hll"><a href="#__codelineno-6-8"><span class="linenos" data-linenos="8 "></span></a><span class="n">PrintPath</span><span class="p">(</span><span class="o">*</span><span class="n">DirectoryGame</span><span class="p">);</span>
</span></code></pre></div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><code>operator*</code> is overloaded to be equivalent to calling <code>GetPath</code>.</p>
</div>
</div>
<div class="tabbed-block">
<p><img alt="Get Path" src="../img/bp/dir/get-path.png" /></p>
</div>
</div>
</div>
<p>When we just want to use the directory path as a string, we can use the convenience function <code>GetPathString</code>:</p>
<div class="tabbed-set tabbed-alternate" data-tabs="5:2"><input checked="checked" id="__tabbed_5_1" name="__tabbed_5" type="radio" /><input id="__tabbed_5_2" name="__tabbed_5" type="radio" /><div class="tabbed-labels"><label for="__tabbed_5_1">C++</label><label for="__tabbed_5_2">Blueprint</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="language-c++ highlight"><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1"></a><a href="#__codelineno-7-1"><span class="linenos" data-linenos="1 "></span></a><span class="k">auto</span><span class="w"> </span><span class="n">PrintPathStr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[](</span><span class="k">const</span><span class="w"> </span><span class="n">FString</span><span class="o">&amp;</span><span class="w"> </span><span class="n">Path</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span>
<a id="__codelineno-7-2" name="__codelineno-7-2"></a><a href="#__codelineno-7-2"><span class="linenos" data-linenos="2 "></span></a><span class="w">    </span><span class="n">UE_LOG</span><span class="p">(</span><span class="n">LogTemp</span><span class="p">,</span><span class="w"> </span><span class="n">Warning</span><span class="p">,</span><span class="w"> </span><span class="n">TEXT</span><span class="p">(</span><span class="s">&quot;Path: [%s]&quot;</span><span class="p">),</span><span class="w"> </span><span class="o">*</span><span class="n">Path</span><span class="p">);</span>
<a id="__codelineno-7-3" name="__codelineno-7-3"></a><a href="#__codelineno-7-3"><span class="linenos" data-linenos="3 "></span></a><span class="p">};</span>
<a id="__codelineno-7-4" name="__codelineno-7-4"></a><a href="#__codelineno-7-4"><span class="linenos" data-linenos="4 "></span></a>
<a id="__codelineno-7-5" name="__codelineno-7-5"></a><a href="#__codelineno-7-5"><span class="linenos" data-linenos="5 "></span></a><span class="n">FCakeDir</span><span class="w"> </span><span class="n">DirectoryGame</span><span class="p">{</span><span class="w"> </span><span class="n">FCakePath</span><span class="p">{</span><span class="n">TEXTVIEW</span><span class="p">(</span><span class="s">&quot;X:/game&quot;</span><span class="p">)},</span><span class="w"> </span><span class="n">TEXTVIEW</span><span class="p">(</span><span class="s">&quot;bin | dat&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">};</span>
<a id="__codelineno-7-6" name="__codelineno-7-6"></a><a href="#__codelineno-7-6"><span class="linenos" data-linenos="6 "></span></a>
<a id="__codelineno-7-7" name="__codelineno-7-7"></a><span class="hll"><a href="#__codelineno-7-7"><span class="linenos" data-linenos="7 "></span></a><span class="n">PrintPathStr</span><span class="p">(</span><span class="n">DirectoryGame</span><span class="p">.</span><span class="n">GetPathString</span><span class="p">());</span>
</span></code></pre></div>
</div>
<div class="tabbed-block">
<p><img alt="Get Path String" src="../img/bp/dir/get-path-string.png" /></p>
</div>
</div>
</div>
<h3 id="modifying-the-directory-path">Modifying the Directory Path</h3>
<p>To change the path of an existing CakeDir object, we use <code>SetPath</code>. There are two versions of <code>SetPath</code> we can use: one that accepts a string and one that accepts a CakePath object.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="6:2"><input checked="checked" id="__tabbed_6_1" name="__tabbed_6" type="radio" /><input id="__tabbed_6_2" name="__tabbed_6" type="radio" /><div class="tabbed-labels"><label for="__tabbed_6_1">C++</label><label for="__tabbed_6_2">Blueprint</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="language-c++ highlight"><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1"></a><a href="#__codelineno-8-1"><span class="linenos" data-linenos="1 "></span></a><span class="c1">// FString Overload</span>
<a id="__codelineno-8-2" name="__codelineno-8-2"></a><a href="#__codelineno-8-2"><span class="linenos" data-linenos="2 "></span></a><span class="n">FCakeDir</span><span class="w"> </span><span class="n">DirectoryGame</span><span class="p">{</span><span class="w"> </span><span class="n">FCakePath</span><span class="p">{</span><span class="n">TEXTVIEW</span><span class="p">(</span><span class="s">&quot;X:/game&quot;</span><span class="p">)},</span><span class="w"> </span><span class="n">TEXTVIEW</span><span class="p">(</span><span class="s">&quot;bin | dat&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">};</span>
<a id="__codelineno-8-3" name="__codelineno-8-3"></a><a href="#__codelineno-8-3"><span class="linenos" data-linenos="3 "></span></a>
<a id="__codelineno-8-4" name="__codelineno-8-4"></a><span class="hll"><a href="#__codelineno-8-4"><span class="linenos" data-linenos="4 "></span></a><span class="n">DirectoryGame</span><span class="p">.</span><span class="n">SetPath</span><span class="p">(</span><span class="n">TEXTVIEW</span><span class="p">(</span><span class="s">&quot;y/archive/data&quot;</span><span class="p">));</span>
</span></code></pre></div>
<div class="language-c++ highlight"><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1"></a><a href="#__codelineno-9-1"><span class="linenos" data-linenos="1 "></span></a><span class="c1">// FCakePath Overload</span>
<a id="__codelineno-9-2" name="__codelineno-9-2"></a><a href="#__codelineno-9-2"><span class="linenos" data-linenos="2 "></span></a><span class="n">FCakeDir</span><span class="w"> </span><span class="n">DirectoryGame</span><span class="p">{</span><span class="w"> </span><span class="n">FCakePath</span><span class="p">{</span><span class="n">TEXTVIEW</span><span class="p">(</span><span class="s">&quot;X:/game&quot;</span><span class="p">)},</span><span class="w"> </span><span class="n">TEXTVIEW</span><span class="p">(</span><span class="s">&quot;bin | dat&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">};</span>
<a id="__codelineno-9-3" name="__codelineno-9-3"></a><a href="#__codelineno-9-3"><span class="linenos" data-linenos="3 "></span></a><span class="n">FCakePath</span><span class="w"> </span><span class="n">NewPath</span><span class="p">{</span><span class="w"> </span><span class="n">TEXTVIEW</span><span class="p">(</span><span class="s">&quot;y/archive/data&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">};</span>
<a id="__codelineno-9-4" name="__codelineno-9-4"></a><a href="#__codelineno-9-4"><span class="linenos" data-linenos="4 "></span></a>
<a id="__codelineno-9-5" name="__codelineno-9-5"></a><span class="hll"><a href="#__codelineno-9-5"><span class="linenos" data-linenos="5 "></span></a><span class="n">DirectoryGame</span><span class="p">.</span><span class="n">SetPath</span><span class="p">(</span><span class="n">NewPath</span><span class="p">);</span>
</span></code></pre></div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>We can use <code>StealPath</code> in C++ that accepts an <code>FCakePath&amp;&amp;</code> parameter when the situation can allow for it.</p>
</div>
<div class="language-c++ highlight"><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1"></a><a href="#__codelineno-10-1"><span class="linenos" data-linenos="1 "></span></a><span class="n">FCakeDir</span><span class="w"> </span><span class="n">DirectoryGame</span><span class="p">{</span><span class="w"> </span><span class="n">FCakePath</span><span class="p">{</span><span class="n">TEXTVIEW</span><span class="p">(</span><span class="s">&quot;X:/game&quot;</span><span class="p">)},</span><span class="w"> </span><span class="n">TEXTVIEW</span><span class="p">(</span><span class="s">&quot;bin | dat&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">};</span>
<a id="__codelineno-10-2" name="__codelineno-10-2"></a><a href="#__codelineno-10-2"><span class="linenos" data-linenos="2 "></span></a>
<a id="__codelineno-10-3" name="__codelineno-10-3"></a><a href="#__codelineno-10-3"><span class="linenos" data-linenos="3 "></span></a><span class="n">DirectoryGame</span><span class="p">.</span><span class="n">StealPath</span><span class="p">(</span><span class="w"> </span><span class="n">FCakePath</span><span class="p">{</span><span class="n">TEXTVIEW</span><span class="p">(</span><span class="s">&quot;x/other/archive&quot;</span><span class="p">)}</span><span class="w"> </span><span class="p">);</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<p><img alt="Set Path String" src="../img/bp/dir/set-path-string.png" /></p>
<p><img alt="Set Path CakePath" src="../img/bp/dir/set-path-cakepath.png" /></p>
</div>
</div>
</div>
<p>We can check if an FCakeDir's directory path is empty via <code>PathIsEmpty</code>:</p>
<div class="tabbed-set tabbed-alternate" data-tabs="7:2"><input checked="checked" id="__tabbed_7_1" name="__tabbed_7" type="radio" /><input id="__tabbed_7_2" name="__tabbed_7" type="radio" /><div class="tabbed-labels"><label for="__tabbed_7_1">C++</label><label for="__tabbed_7_2">Blueprint</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="language-c++ highlight"><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1"></a><a href="#__codelineno-11-1"><span class="linenos" data-linenos="1 "></span></a><span class="n">FCakeDir</span><span class="w"> </span><span class="n">DirectoryGame</span><span class="p">{</span><span class="w"> </span><span class="n">FCakePath</span><span class="p">{</span><span class="n">TEXTVIEW</span><span class="p">(</span><span class="s">&quot;X:/game&quot;</span><span class="p">)},</span><span class="w"> </span><span class="n">TEXTVIEW</span><span class="p">(</span><span class="s">&quot;bin | dat&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">};</span>
<a id="__codelineno-11-2" name="__codelineno-11-2"></a><a href="#__codelineno-11-2"><span class="linenos" data-linenos="2 "></span></a>
<a id="__codelineno-11-3" name="__codelineno-11-3"></a><span class="hll"><a href="#__codelineno-11-3"><span class="linenos" data-linenos="3 "></span></a><span class="k">const</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">bPathIsEmpty</span><span class="p">{</span><span class="w"> </span><span class="n">DirectoryGame</span><span class="p">.</span><span class="n">PathIsEmpty</span><span class="p">()</span><span class="w"> </span><span class="p">};</span><span class="w"> </span><span class="c1">// =&gt; false</span>
</span></code></pre></div>
</div>
<div class="tabbed-block">
<p><img alt="Path Is Empty" src="../img/bp/dir/path-is-empty.png" /></p>
</div>
</div>
</div>
<p>We can reset the directory path to be empty via <code>ResetPath</code>:</p>
<div class="tabbed-set tabbed-alternate" data-tabs="8:2"><input checked="checked" id="__tabbed_8_1" name="__tabbed_8" type="radio" /><input id="__tabbed_8_2" name="__tabbed_8" type="radio" /><div class="tabbed-labels"><label for="__tabbed_8_1">C++</label><label for="__tabbed_8_2">Blueprint</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="language-c++ highlight"><pre><span></span><code><a id="__codelineno-12-1" name="__codelineno-12-1"></a><span class="hll"><a href="#__codelineno-12-1"><span class="linenos" data-linenos="1 "></span></a><span class="n">DirectoryGame</span><span class="p">.</span><span class="n">ResetPath</span><span class="p">();</span>
</span><a id="__codelineno-12-2" name="__codelineno-12-2"></a><a href="#__codelineno-12-2"><span class="linenos" data-linenos="2 "></span></a>
<a id="__codelineno-12-3" name="__codelineno-12-3"></a><a href="#__codelineno-12-3"><span class="linenos" data-linenos="3 "></span></a><span class="k">const</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">bPathIsEmpty</span><span class="p">{</span><span class="w"> </span><span class="n">DirectoryGame</span><span class="p">.</span><span class="n">PathIsEmpty</span><span class="p">()</span><span class="w"> </span><span class="p">};</span><span class="w"> </span><span class="c1">// =&gt; true</span>
</code></pre></div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This function takes an optional <code>int32</code> parameter <code>NewReservedSize</code> which will be forwarded to the path's internal <code>FString</code> member. You can use this to reserve a size for the path string buffer, just as you would with <code>FString</code>.</p>
</div>
</div>
<div class="tabbed-block">
<p><img alt="Reset Path" src="../img/bp/dir/reset-path.png" /></p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The parameter <code>NewReservedSize</code> can be used to reserve a minimum size for the internal path string. It is optional and should be left at 0 whenever you don't need to specify a reserve size.</p>
</div>
</div>
</div>
</div>
<h3 id="accessing-the-directory-name">Accessing the Directory Name</h3>
<p>We can get the directory name as a string via <code>CloneDirName</code>:</p>
<div class="tabbed-set tabbed-alternate" data-tabs="9:2"><input checked="checked" id="__tabbed_9_1" name="__tabbed_9" type="radio" /><input id="__tabbed_9_2" name="__tabbed_9" type="radio" /><div class="tabbed-labels"><label for="__tabbed_9_1">C++</label><label for="__tabbed_9_2">Blueprint</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="language-c++ highlight"><pre><span></span><code><a id="__codelineno-13-1" name="__codelineno-13-1"></a><a href="#__codelineno-13-1"><span class="linenos" data-linenos="1 "></span></a><span class="n">FCakeDir</span><span class="w"> </span><span class="n">DirectoryGame</span><span class="p">{</span><span class="w"> </span><span class="n">FCakePath</span><span class="p">{</span><span class="n">TEXTVIEW</span><span class="p">(</span><span class="s">&quot;X:/game&quot;</span><span class="p">)},</span><span class="w"> </span><span class="n">TEXTVIEW</span><span class="p">(</span><span class="s">&quot;bin | dat&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">};</span>
<a id="__codelineno-13-2" name="__codelineno-13-2"></a><a href="#__codelineno-13-2"><span class="linenos" data-linenos="2 "></span></a>
<a id="__codelineno-13-3" name="__codelineno-13-3"></a><span class="hll"><a href="#__codelineno-13-3"><span class="linenos" data-linenos="3 "></span></a><span class="n">FString</span><span class="w"> </span><span class="n">DirName</span><span class="p">{</span><span class="w"> </span><span class="n">DirectoryGame</span><span class="p">.</span><span class="n">CloneDirName</span><span class="p">()</span><span class="w"> </span><span class="p">};</span><span class="w"> </span><span class="c1">// =&gt; &quot;game&quot;</span>
</span></code></pre></div>
</div>
<div class="tabbed-block">
<p><img alt="Clone Dir Name" src="../img/bp/dir/clone-dir-name.png" /></p>
</div>
</div>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>The result of this function can be empty, so be sure to check in situations where it matters!</p>
</div>
<h3 id="directory-equality">Directory Equality</h3>
<p>Directory equality mirrors path equality: two CakeDir objects are equal if they refer to the same directory location on the filesystem. The extension filters are not taken into consideration for equality since this would lead to unintuitive, misleading results.</p>
<p>We use the equality operators <code>==</code> and <code>!=</code> to compare FCakeDir objects.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="10:2"><input checked="checked" id="__tabbed_10_1" name="__tabbed_10" type="radio" /><input id="__tabbed_10_2" name="__tabbed_10" type="radio" /><div class="tabbed-labels"><label for="__tabbed_10_1">C++</label><label for="__tabbed_10_2">Blueprint</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="language-c++ highlight"><pre><span></span><code><a id="__codelineno-14-1" name="__codelineno-14-1"></a><a href="#__codelineno-14-1"><span class="linenos" data-linenos=" 1 "></span></a><span class="n">FCakePath</span><span class="w"> </span><span class="n">PathData</span><span class="p">{</span><span class="w"> </span><span class="n">TEXTVIEW</span><span class="p">(</span><span class="s">&quot;X:/game/data&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">};</span>
<a id="__codelineno-14-2" name="__codelineno-14-2"></a><a href="#__codelineno-14-2"><span class="linenos" data-linenos=" 2 "></span></a>
<a id="__codelineno-14-3" name="__codelineno-14-3"></a><a href="#__codelineno-14-3"><span class="linenos" data-linenos=" 3 "></span></a><span class="n">FCakeDir</span><span class="w"> </span><span class="n">DirData</span><span class="p">{</span><span class="w"> </span><span class="n">PathData</span><span class="w"> </span><span class="p">};</span>
<a id="__codelineno-14-4" name="__codelineno-14-4"></a><a href="#__codelineno-14-4"><span class="linenos" data-linenos=" 4 "></span></a><span class="n">FCakeDir</span><span class="w"> </span><span class="n">DirArc</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">FCakePath</span><span class="p">{</span><span class="n">TEXTVIEW</span><span class="p">(</span><span class="s">&quot;X:/arc&quot;</span><span class="p">)}</span><span class="w"> </span><span class="p">};</span>
<a id="__codelineno-14-5" name="__codelineno-14-5"></a><a href="#__codelineno-14-5"><span class="linenos" data-linenos=" 5 "></span></a>
<a id="__codelineno-14-6" name="__codelineno-14-6"></a><a href="#__codelineno-14-6"><span class="linenos" data-linenos=" 6 "></span></a><span class="kt">bool</span><span class="w"> </span><span class="n">bAreEqual</span><span class="p">{</span><span class="w"> </span><span class="nb">false</span><span class="w"> </span><span class="p">};</span>
<a id="__codelineno-14-7" name="__codelineno-14-7"></a><a href="#__codelineno-14-7"><span class="linenos" data-linenos=" 7 "></span></a>
<a id="__codelineno-14-8" name="__codelineno-14-8"></a><span class="hll"><a href="#__codelineno-14-8"><span class="linenos" data-linenos=" 8 "></span></a><span class="n">bAreEqual</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">DirData</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">PathData</span><span class="p">;</span><span class="w"> </span><span class="c1">// =&gt; true</span>
</span><a id="__codelineno-14-9" name="__codelineno-14-9"></a><span class="hll"><a href="#__codelineno-14-9"><span class="linenos" data-linenos=" 9 "></span></a><span class="n">bAreEqual</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">DirData</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">DirArc</span><span class="p">;</span><span class="w"> </span><span class="c1">// =&gt; false</span>
</span><a id="__codelineno-14-10" name="__codelineno-14-10"></a><a href="#__codelineno-14-10"><span class="linenos" data-linenos="10 "></span></a>
<a id="__codelineno-14-11" name="__codelineno-14-11"></a><span class="hll"><a href="#__codelineno-14-11"><span class="linenos" data-linenos="11 "></span></a><span class="n">bAreEqual</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">DirData</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">PathData</span><span class="p">;</span><span class="w"> </span><span class="c1">// =&gt; false</span>
</span><a id="__codelineno-14-12" name="__codelineno-14-12"></a><span class="hll"><a href="#__codelineno-14-12"><span class="linenos" data-linenos="12 "></span></a><span class="n">bAreEqual</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">DirData</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">DirArc</span><span class="p">;</span><span class="w"> </span><span class="c1">// =&gt; true</span>
</span></code></pre></div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The FCakeDir / FCakePath overload is also provided for convenience.</p>
</div>
</div>
<div class="tabbed-block">
<p><img alt="Is Equal To" src="../img/bp/dir/is-equal-to.png" /></p>
<p><img alt="Is Not Equal To" src="../img/bp/dir/is-not-equal-to.png" /></p>
</div>
</div>
</div>
<h3 id="file-extension-filter">File Extension Filter</h3>
<p>Each CakeDir object stores a list of unique file extensions that are used for <a href="#filtered-traversals">filtered traversals</a>. We will look at how we can interact with the file extension filter soon, but first we need to take a brief detour and become familiar with file extension query syntax. </p>
<h4 id="file-extension-query-syntax">File Extension Query Syntax</h4>
<p>CakeDir filters use a specific syntax to represent groups of file extensions as a string. The syntax is very simple: each file extension element is separated via the <code>|</code> (pipe) character. 
As an example, if we wanted to use the extensions <code>.txt</code>, <code>.bin.dat</code>, and <code>.jpg</code> in the same command, we could use the string "txt|bin.dat|jpg" for the extension command. Any leading or trailing whitespace is removed from each element, so we can also use the string "txt | bin.dat | jpg" to enhance the readability.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>It does not matter if we include the leading extension dot for an extension. </p>
</div>
<p>We use a special type to contain these file extensions queries: <code>FCakeExtFilterQuery</code>. Making a query is simple: we just need to construct it with our desired query string:</p>
<div class="tabbed-set tabbed-alternate" data-tabs="11:2"><input checked="checked" id="__tabbed_11_1" name="__tabbed_11" type="radio" /><input id="__tabbed_11_2" name="__tabbed_11" type="radio" /><div class="tabbed-labels"><label for="__tabbed_11_1">C++</label><label for="__tabbed_11_2">Blueprint</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="language-c++ highlight"><pre><span></span><code><a id="__codelineno-15-1" name="__codelineno-15-1"></a><a href="#__codelineno-15-1"><span class="linenos" data-linenos="1 "></span></a><span class="n">FCakeExtFilterQuery</span><span class="w"> </span><span class="n">ImageFiles</span><span class="p">{</span><span class="w"> </span><span class="p">.</span><span class="n">Query</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">TEXT</span><span class="p">(</span><span class="s">&quot;jpg | jpeg | png&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">};</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<p><img alt="Query Image Files" src="../img/bp/dir/query-image-files.png" /></p>
</div>
</div>
</div>
<p>In the example above, the filter query will contain the following extensions: <code>.jpg</code>, <code>.jpeg</code>, and <code>.png</code>.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Adding surrounding whitespace to <code>|</code> extension separator can help boost legibility, especially in Blueprints. Any leading/trailing whitespace is always removed from each entry, so use whatever format is most legible for you and your team.</p>
</div>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>The extension filter is extremely lenient when parsing file extension queries. It doesn't matter if we include the leader dot in an extension (".txt" and "txt" are equivalent, as are ".cdr.txt" and "cdr.txt"), It can also handle redundant <code>|</code> or <code>.</code> symbols and empty entries without incident (it will merely skip them). For example, <code>|.|..cdr.|txt|bin||</code> will correctly parse the command into the following extension list <code>[.cdr, .txt, .bin]</code>. Therefore, you do not have to do exhaustive syntax checking when accepting filter query strings from outside sources (like from a GUI).</p>
</div>
<h4 id="file-extension-filter-initialization">File Extension Filter Initialization</h4>
<p>When we construct a CakeDir object, by default the file extension filter is completely empty. If we know at construction time what kind of files the CakeDir object is going to be working with, we can directly set the filter by providing an FCakeExtFilterQuery argument, as shown in the <a href="#constructing-cakedir-objects">construction</a> section.</p>
<h4 id="modifying-the-file-extension-filter">Modifying the File Extension Filter</h4>
<p>We can submit file extensions queries to add, remove, or directly set the contents of the File Extension Filter. All of these functions return an integer indicating the number of changes that were made to the file extension filter. </p>
<p><code>ExtFilterSetExtensions</code> will remove any preexisting file extensions from the filter and set its contents to the file extensions in the query argument. The number returned indicates the total number of extensions in the filter after it has been modified.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="12:2"><input checked="checked" id="__tabbed_12_1" name="__tabbed_12" type="radio" /><input id="__tabbed_12_2" name="__tabbed_12" type="radio" /><div class="tabbed-labels"><label for="__tabbed_12_1">C++</label><label for="__tabbed_12_2">Blueprint</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="language-c++ highlight"><pre><span></span><code><a id="__codelineno-16-1" name="__codelineno-16-1"></a><a href="#__codelineno-16-1"><span class="linenos" data-linenos="1 "></span></a><span class="n">FCakeDir</span><span class="w"> </span><span class="n">DataDir</span><span class="p">{</span><span class="w"> </span><span class="n">TEXTVIEW</span><span class="p">(</span><span class="s">&quot;Z:/Vault/Data&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">};</span>
<a id="__codelineno-16-2" name="__codelineno-16-2"></a><a href="#__codelineno-16-2"><span class="linenos" data-linenos="2 "></span></a>
<a id="__codelineno-16-3" name="__codelineno-16-3"></a><a href="#__codelineno-16-3"><span class="linenos" data-linenos="3 "></span></a><span class="c1">//FCakeExtFilterQuery overload</span>
<a id="__codelineno-16-4" name="__codelineno-16-4"></a><a href="#__codelineno-16-4"><span class="linenos" data-linenos="4 "></span></a><span class="n">FCakeExtFilterQuery</span><span class="w"> </span><span class="n">NewExts</span><span class="p">{</span><span class="w"> </span><span class="p">.</span><span class="n">Query</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">TEXT</span><span class="p">(</span><span class="s">&quot;bin | dat&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">};</span>
<a id="__codelineno-16-5" name="__codelineno-16-5"></a><span class="hll"><a href="#__codelineno-16-5"><span class="linenos" data-linenos="5 "></span></a><span class="n">DataDir</span><span class="p">.</span><span class="n">ExtFilterSetExtensions</span><span class="p">(</span><span class="n">NewExts</span><span class="p">);</span><span class="w"> </span><span class="c1">// =&gt; 2 (bin, dat)</span>
</span></code></pre></div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>All functions modifying the CakeDir's filter set have overloads that support FStringView so that callers can avoid creating an unnecessary query object when desired.</p>
</div>
<div class="language-c++ highlight"><pre><span></span><code><a id="__codelineno-17-1" name="__codelineno-17-1"></a><a href="#__codelineno-17-1"><span class="linenos" data-linenos="1 "></span></a><span class="n">FCakeDir</span><span class="w"> </span><span class="n">DataDir</span><span class="p">{</span><span class="w"> </span><span class="n">TEXTVIEW</span><span class="p">(</span><span class="s">&quot;Z:/Vault/Data&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">};</span>
<a id="__codelineno-17-2" name="__codelineno-17-2"></a><a href="#__codelineno-17-2"><span class="linenos" data-linenos="2 "></span></a>
<a id="__codelineno-17-3" name="__codelineno-17-3"></a><a href="#__codelineno-17-3"><span class="linenos" data-linenos="3 "></span></a><span class="c1">//FStringView overload</span>
<a id="__codelineno-17-4" name="__codelineno-17-4"></a><span class="hll"><a href="#__codelineno-17-4"><span class="linenos" data-linenos="4 "></span></a><span class="n">DataDir</span><span class="p">.</span><span class="n">ExtFilterSetExtensions</span><span class="p">(</span><span class="w"> </span><span class="n">TEXTVIEW</span><span class="p">(</span><span class="s">&quot;bin | dat&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">);</span><span class="w"> </span><span class="c1">// =&gt; 2 (bin, dat)</span>
</span></code></pre></div>
</div>
<div class="tabbed-block">
<p><img alt="filter-set-extensions" src="../img/bp/dir/filter-set-extensions.png" /></p>
</div>
</div>
</div>
<p>In the example above, the function will return <code>2</code> and the file extension filter will contain two file extensions: <code>[ ".bin", ".dat" ]</code>.</p>
<p><code>ExtFilterAddExtensions</code> will add any new file extensions found in the submitted query. It will return the number of new extensions added. Remember, the file extension filter only stores unique entries, so sometimes this number returned will be different from the number of file extensions found in the query.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="13:2"><input checked="checked" id="__tabbed_13_1" name="__tabbed_13" type="radio" /><input id="__tabbed_13_2" name="__tabbed_13" type="radio" /><div class="tabbed-labels"><label for="__tabbed_13_1">C++</label><label for="__tabbed_13_2">Blueprint</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="language-c++ highlight"><pre><span></span><code><a id="__codelineno-18-1" name="__codelineno-18-1"></a><a href="#__codelineno-18-1"><span class="linenos" data-linenos="1 "></span></a><span class="n">FCakeExtFilterQuery</span><span class="w"> </span><span class="n">InitialExts</span><span class="p">{</span><span class="w"> </span><span class="p">.</span><span class="n">Query</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">TEXT</span><span class="p">(</span><span class="s">&quot;bin | dat&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">};</span>
<a id="__codelineno-18-2" name="__codelineno-18-2"></a><a href="#__codelineno-18-2"><span class="linenos" data-linenos="2 "></span></a><span class="n">FCakeDir</span><span class="w"> </span><span class="n">DataDir</span><span class="p">{</span><span class="w"> </span><span class="n">TEXTVIEW</span><span class="p">(</span><span class="s">&quot;Z:/Vault/Data&quot;</span><span class="p">),</span><span class="w"> </span><span class="n">InitialExts</span><span class="w"> </span><span class="p">};</span>
<a id="__codelineno-18-3" name="__codelineno-18-3"></a><a href="#__codelineno-18-3"><span class="linenos" data-linenos="3 "></span></a>
<a id="__codelineno-18-4" name="__codelineno-18-4"></a><a href="#__codelineno-18-4"><span class="linenos" data-linenos="4 "></span></a><span class="c1">//FCakeExtFilterQuery overload</span>
<a id="__codelineno-18-5" name="__codelineno-18-5"></a><span class="hll"><a href="#__codelineno-18-5"><span class="linenos" data-linenos="5 "></span></a><span class="n">FCakeExtFilterQuery</span><span class="w"> </span><span class="n">AdditionalExts</span><span class="p">{</span><span class="w"> </span><span class="p">.</span><span class="n">Query</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">TEXT</span><span class="p">(</span><span class="s">&quot;sav | json&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">};</span>
</span><a id="__codelineno-18-6" name="__codelineno-18-6"></a><a href="#__codelineno-18-6"><span class="linenos" data-linenos="6 "></span></a><span class="n">DataDir</span><span class="p">.</span><span class="n">ExtFilterAddExtensions</span><span class="p">(</span><span class="n">AdditionalExts</span><span class="p">);</span><span class="w"> </span><span class="c1">// =&gt; 2 (bin, dat, sav, json)</span>
</code></pre></div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>All functions modifying the CakeDir's filter set have overloads that support FStringView so that callers can avoid creating an unnecessary query object when desired.</p>
</div>
<div class="language-c++ highlight"><pre><span></span><code><a id="__codelineno-19-1" name="__codelineno-19-1"></a><a href="#__codelineno-19-1"><span class="linenos" data-linenos="1 "></span></a><span class="n">FCakeExtFilterQuery</span><span class="w"> </span><span class="n">InitialExts</span><span class="p">{</span><span class="w"> </span><span class="p">.</span><span class="n">Query</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">TEXT</span><span class="p">(</span><span class="s">&quot;bin | dat&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">};</span>
<a id="__codelineno-19-2" name="__codelineno-19-2"></a><a href="#__codelineno-19-2"><span class="linenos" data-linenos="2 "></span></a><span class="n">FCakeDir</span><span class="w"> </span><span class="n">DataDir</span><span class="p">{</span><span class="w"> </span><span class="n">TEXTVIEW</span><span class="p">(</span><span class="s">&quot;Z:/Vault/Data&quot;</span><span class="p">),</span><span class="w"> </span><span class="n">InitialExts</span><span class="w"> </span><span class="p">};</span>
<a id="__codelineno-19-3" name="__codelineno-19-3"></a><a href="#__codelineno-19-3"><span class="linenos" data-linenos="3 "></span></a>
<a id="__codelineno-19-4" name="__codelineno-19-4"></a><span class="hll"><a href="#__codelineno-19-4"><span class="linenos" data-linenos="4 "></span></a><span class="c1">//FStringView overload</span>
</span><a id="__codelineno-19-5" name="__codelineno-19-5"></a><a href="#__codelineno-19-5"><span class="linenos" data-linenos="5 "></span></a><span class="n">DataDir</span><span class="p">.</span><span class="n">ExtFilterAddExtensions</span><span class="p">(</span><span class="w"> </span><span class="n">TEXTVIEW</span><span class="p">(</span><span class="s">&quot;sav | json&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">);</span><span class="w"> </span><span class="c1">// =&gt; 2 (bin, dat, sav, json)</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<p><img alt="filter-add-extensions" src="../img/bp/dir/filter-add-extensions.png" /></p>
</div>
</div>
</div>
<p>In the example above, the function will return <code>2</code> and the file extension filter will contain four file extensions: <code>[ ".bin", ".dat", ".sav", and ".json" ]</code>.</p>
<p><code>ExtFilterRemoveExtensions</code> will remove any queried file extensions from the filter set. It will return the number of extensions removed. </p>
<div class="tabbed-set tabbed-alternate" data-tabs="14:2"><input checked="checked" id="__tabbed_14_1" name="__tabbed_14" type="radio" /><input id="__tabbed_14_2" name="__tabbed_14" type="radio" /><div class="tabbed-labels"><label for="__tabbed_14_1">C++</label><label for="__tabbed_14_2">Blueprint</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="language-c++ highlight"><pre><span></span><code><a id="__codelineno-20-1" name="__codelineno-20-1"></a><a href="#__codelineno-20-1"><span class="linenos" data-linenos="1 "></span></a><span class="n">FCakeExtFilterQuery</span><span class="w"> </span><span class="n">InitialExts</span><span class="p">{</span><span class="w"> </span><span class="p">.</span><span class="n">Query</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">TEXT</span><span class="p">(</span><span class="s">&quot;bin | dat&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">};</span>
<a id="__codelineno-20-2" name="__codelineno-20-2"></a><a href="#__codelineno-20-2"><span class="linenos" data-linenos="2 "></span></a><span class="n">FCakeDir</span><span class="w"> </span><span class="n">DataDir</span><span class="p">{</span><span class="w"> </span><span class="n">TEXTVIEW</span><span class="p">(</span><span class="s">&quot;Z:/Vault/Data&quot;</span><span class="p">),</span><span class="w"> </span><span class="n">InitialExts</span><span class="w"> </span><span class="p">};</span>
<a id="__codelineno-20-3" name="__codelineno-20-3"></a><a href="#__codelineno-20-3"><span class="linenos" data-linenos="3 "></span></a>
<a id="__codelineno-20-4" name="__codelineno-20-4"></a><a href="#__codelineno-20-4"><span class="linenos" data-linenos="4 "></span></a><span class="c1">//FCakeExtFilterQuery overload</span>
<a id="__codelineno-20-5" name="__codelineno-20-5"></a><span class="hll"><a href="#__codelineno-20-5"><span class="linenos" data-linenos="5 "></span></a><span class="n">FCakeExtFilterQuery</span><span class="w"> </span><span class="n">ExtsToRemove</span><span class="p">{</span><span class="w"> </span><span class="p">.</span><span class="n">Query</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">TEXT</span><span class="p">(</span><span class="s">&quot;bin | json&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">};</span>
</span><a id="__codelineno-20-6" name="__codelineno-20-6"></a><a href="#__codelineno-20-6"><span class="linenos" data-linenos="6 "></span></a><span class="n">DataDir</span><span class="p">.</span><span class="n">ExtFilterAddExtensions</span><span class="p">(</span><span class="n">ExtsToRemove</span><span class="p">);</span><span class="w"> </span><span class="c1">// =&gt; 1 (dat)</span>
</code></pre></div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>All functions modifying the CakeDir's filter set have overloads that support FStringView so that callers can avoid creating an unnecessary query object when desired.</p>
</div>
<div class="language-c++ highlight"><pre><span></span><code><a id="__codelineno-21-1" name="__codelineno-21-1"></a><a href="#__codelineno-21-1"><span class="linenos" data-linenos="1 "></span></a><span class="n">FCakeExtFilterQuery</span><span class="w"> </span><span class="n">InitialExts</span><span class="p">{</span><span class="w"> </span><span class="p">.</span><span class="n">Query</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">TEXT</span><span class="p">(</span><span class="s">&quot;bin | dat&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">};</span>
<a id="__codelineno-21-2" name="__codelineno-21-2"></a><a href="#__codelineno-21-2"><span class="linenos" data-linenos="2 "></span></a><span class="n">FCakeDir</span><span class="w"> </span><span class="n">DataDir</span><span class="p">{</span><span class="w"> </span><span class="n">TEXTVIEW</span><span class="p">(</span><span class="s">&quot;Z:/Vault/Data&quot;</span><span class="p">),</span><span class="w"> </span><span class="n">InitialExts</span><span class="w"> </span><span class="p">};</span>
<a id="__codelineno-21-3" name="__codelineno-21-3"></a><a href="#__codelineno-21-3"><span class="linenos" data-linenos="3 "></span></a>
<a id="__codelineno-21-4" name="__codelineno-21-4"></a><span class="hll"><a href="#__codelineno-21-4"><span class="linenos" data-linenos="4 "></span></a><span class="c1">//FStringView overload</span>
</span><a id="__codelineno-21-5" name="__codelineno-21-5"></a><a href="#__codelineno-21-5"><span class="linenos" data-linenos="5 "></span></a><span class="n">DataDir</span><span class="p">.</span><span class="n">ExtFilterAddExtensions</span><span class="p">(</span><span class="w"> </span><span class="n">TEXTVIEW</span><span class="p">(</span><span class="s">&quot;bin | json&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">);</span><span class="w"> </span><span class="c1">// =&gt; 1 (dat)</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<p><img alt="filter-remove-extensions" src="../img/bp/dir/filter-remove-extensions.png" /></p>
</div>
</div>
</div>
<p>In the example above, the function will return <code>1</code> and the file extension filter will contain one file extension: <code>[ ".dat" ]</code>.</p>
<h3 id="clearing-all-data">Clearing All Data</h3>
<p>To clear the path and the file extension filter on a CakeDir object, we use <code>Reset</code>. </p>
<div class="tabbed-set tabbed-alternate" data-tabs="15:2"><input checked="checked" id="__tabbed_15_1" name="__tabbed_15" type="radio" /><input id="__tabbed_15_2" name="__tabbed_15" type="radio" /><div class="tabbed-labels"><label for="__tabbed_15_1">C++</label><label for="__tabbed_15_2">Blueprint</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="language-c++ highlight"><pre><span></span><code><a id="__codelineno-22-1" name="__codelineno-22-1"></a><a href="#__codelineno-22-1"><span class="linenos" data-linenos="1 "></span></a><span class="n">FCakeDir</span><span class="w"> </span><span class="n">DirectoryGame</span><span class="p">{</span><span class="w"> </span><span class="n">FCakePath</span><span class="p">{</span><span class="n">TEXTVIEW</span><span class="p">(</span><span class="s">&quot;X:/game&quot;</span><span class="p">)},</span><span class="w"> </span><span class="n">TEXTVIEW</span><span class="p">(</span><span class="s">&quot;bin | dat&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">};</span>
<a id="__codelineno-22-2" name="__codelineno-22-2"></a><a href="#__codelineno-22-2"><span class="linenos" data-linenos="2 "></span></a><span class="w">    </span><span class="c1">// Path: &quot;x/game&quot;</span>
<a id="__codelineno-22-3" name="__codelineno-22-3"></a><a href="#__codelineno-22-3"><span class="linenos" data-linenos="3 "></span></a><span class="w">    </span><span class="c1">// File Extension Filter: [.bin, .dat]</span>
<a id="__codelineno-22-4" name="__codelineno-22-4"></a><a href="#__codelineno-22-4"><span class="linenos" data-linenos="4 "></span></a>
<a id="__codelineno-22-5" name="__codelineno-22-5"></a><span class="hll"><a href="#__codelineno-22-5"><span class="linenos" data-linenos="5 "></span></a><span class="n">DirectoryGame</span><span class="p">.</span><span class="n">Reset</span><span class="p">();</span>
</span><a id="__codelineno-22-6" name="__codelineno-22-6"></a><a href="#__codelineno-22-6"><span class="linenos" data-linenos="6 "></span></a><span class="w">    </span><span class="c1">// Path: &quot;&quot;</span>
<a id="__codelineno-22-7" name="__codelineno-22-7"></a><a href="#__codelineno-22-7"><span class="linenos" data-linenos="7 "></span></a><span class="w">    </span><span class="c1">// File Extension Filter: []</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<p><img alt="Reset" src="../img/bp/dir/reset.png" /></p>
</div>
</div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>There are two optional integer parameters which allow us to reserve sizes for the path string and the file extension filter; in most scenarios you can leave this at zero. However, if you happen to know the size of the path or how many file extensions you will be storing after the reset, reserving the size can increase performance.</p>
</div>
<h2 id="filesystem-operations">Filesystem Operations</h2>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>The following filesystem operation examples show only minimal error handling; this is to keep the focus on core object usage and reduce the complexity of the example code. While there is nothing inherently wrong with this minimal error handling style, do not view it as a recommendation! See <a href="../error-handling/">Error Handling</a> for a detailed examination of error types and error handling strategies.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The following section involves the use of various Cake Policy enums. If you are unfamiliar with a policy, please refer to the <a href="/core-api/special-types/policies/">Policies</a> section for a detailed introduction to each policy.</p>
</div>
<h3 id="checking-directory-existence">Checking Directory Existence</h3>
<p>To check if a CakeDir object's referenced directory exists on the filesystem, we use <code>Exists</code>:</p>
<div class="tabbed-set tabbed-alternate" data-tabs="16:2"><input checked="checked" id="__tabbed_16_1" name="__tabbed_16" type="radio" /><input id="__tabbed_16_2" name="__tabbed_16" type="radio" /><div class="tabbed-labels"><label for="__tabbed_16_1">C++</label><label for="__tabbed_16_2">Blueprint</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="language-c++ highlight"><pre><span></span><code><a id="__codelineno-23-1" name="__codelineno-23-1"></a><a href="#__codelineno-23-1"><span class="linenos" data-linenos=" 1 "></span></a><span class="n">FCakeDir</span><span class="w"> </span><span class="n">DirectoryGame</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">TEXTVIEW</span><span class="p">(</span><span class="s">&quot;X:/game&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">};</span>
<a id="__codelineno-23-2" name="__codelineno-23-2"></a><a href="#__codelineno-23-2"><span class="linenos" data-linenos=" 2 "></span></a>
<a id="__codelineno-23-3" name="__codelineno-23-3"></a><span class="hll"><a href="#__codelineno-23-3"><span class="linenos" data-linenos=" 3 "></span></a><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">DirectoryGame</span><span class="p">.</span><span class="n">Exists</span><span class="p">())</span>
</span><a id="__codelineno-23-4" name="__codelineno-23-4"></a><a href="#__codelineno-23-4"><span class="linenos" data-linenos=" 4 "></span></a><span class="p">{</span>
<a id="__codelineno-23-5" name="__codelineno-23-5"></a><a href="#__codelineno-23-5"><span class="linenos" data-linenos=" 5 "></span></a><span class="w">    </span><span class="n">UE_LOG</span><span class="p">(</span><span class="n">LogTemp</span><span class="p">,</span><span class="w"> </span><span class="n">Warning</span><span class="p">,</span><span class="w"> </span>
<a id="__codelineno-23-6" name="__codelineno-23-6"></a><a href="#__codelineno-23-6"><span class="linenos" data-linenos=" 6 "></span></a><span class="w">        </span><span class="n">TEXT</span><span class="p">(</span><span class="s">&quot;The game directory exists on the filesystem!&quot;</span><span class="p">))</span>
<a id="__codelineno-23-7" name="__codelineno-23-7"></a><a href="#__codelineno-23-7"><span class="linenos" data-linenos=" 7 "></span></a><span class="p">}</span>
<a id="__codelineno-23-8" name="__codelineno-23-8"></a><a href="#__codelineno-23-8"><span class="linenos" data-linenos=" 8 "></span></a><span class="k">else</span>
<a id="__codelineno-23-9" name="__codelineno-23-9"></a><a href="#__codelineno-23-9"><span class="linenos" data-linenos=" 9 "></span></a><span class="p">{</span>
<a id="__codelineno-23-10" name="__codelineno-23-10"></a><a href="#__codelineno-23-10"><span class="linenos" data-linenos="10 "></span></a><span class="w">    </span><span class="n">UE_LOG</span><span class="p">(</span><span class="n">LogTemp</span><span class="p">,</span><span class="w"> </span><span class="n">Warning</span><span class="p">,</span><span class="w"> </span>
<a id="__codelineno-23-11" name="__codelineno-23-11"></a><a href="#__codelineno-23-11"><span class="linenos" data-linenos="11 "></span></a><span class="w">        </span><span class="n">TEXT</span><span class="p">(</span><span class="s">&quot;The game directory does not exist on the filesystem!&quot;</span><span class="p">))</span>
<a id="__codelineno-23-12" name="__codelineno-23-12"></a><a href="#__codelineno-23-12"><span class="linenos" data-linenos="12 "></span></a><span class="p">}</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<p><img alt="Exists" src="../img/bp/dir/exists.png" /></p>
</div>
</div>
</div>
<h3 id="creating-directories">Creating Directories</h3>
<p>To create the directory a CakeDir object references, we use <code>CreateDir</code>:</p>
<div class="tabbed-set tabbed-alternate" data-tabs="17:2"><input checked="checked" id="__tabbed_17_1" name="__tabbed_17" type="radio" /><input id="__tabbed_17_2" name="__tabbed_17" type="radio" /><div class="tabbed-labels"><label for="__tabbed_17_1">C++</label><label for="__tabbed_17_2">Blueprint</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="language-c++ highlight"><pre><span></span><code><a id="__codelineno-24-1" name="__codelineno-24-1"></a><a href="#__codelineno-24-1"><span class="linenos" data-linenos="1 "></span></a><span class="w">    </span><span class="n">FCakeDir</span><span class="w"> </span><span class="n">DirectoryGame</span><span class="p">{</span><span class="w"> </span><span class="n">TEXTVIEW</span><span class="p">(</span><span class="s">&quot;X:/game&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">};</span>
<a id="__codelineno-24-2" name="__codelineno-24-2"></a><a href="#__codelineno-24-2"><span class="linenos" data-linenos="2 "></span></a>
<a id="__codelineno-24-3" name="__codelineno-24-3"></a><span class="hll"><a href="#__codelineno-24-3"><span class="linenos" data-linenos="3 "></span></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">DirectoryGame</span><span class="p">.</span><span class="n">CreateDir</span><span class="p">())</span>
</span><a id="__codelineno-24-4" name="__codelineno-24-4"></a><a href="#__codelineno-24-4"><span class="linenos" data-linenos="4 "></span></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-24-5" name="__codelineno-24-5"></a><a href="#__codelineno-24-5"><span class="linenos" data-linenos="5 "></span></a><span class="w">        </span><span class="n">UE_LOG</span><span class="p">(</span><span class="n">LogTemp</span><span class="p">,</span><span class="w"> </span><span class="n">Error</span><span class="p">,</span><span class="w"> </span><span class="n">TEXT</span><span class="p">(</span><span class="s">&quot;Failed creating game directory.&quot;</span><span class="p">));</span>
<a id="__codelineno-24-6" name="__codelineno-24-6"></a><a href="#__codelineno-24-6"><span class="linenos" data-linenos="6 "></span></a><span class="w">    </span><span class="p">}</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<p><img alt="Create Dir" src="../img/bp/dir/create-dir.png" /></p>
</div>
</div>
</div>
<p>We can use the 
<a href="/core-api/special-types/policies/#missingparents">MissingParents</a>
 parameter to control whether any missing parent directories in the CakeDir's directory path are allowed to be created. (This parameter is optional in C++).</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p><code>CreateDir</code> returns a NoOp if the directory already exists. In situations where you don't know if a directory exists but you want to ensure it's created before continuing, you can just call CreateDir and use the bool / IsOk to know whether or not the directory exists.</p>
</div>
<h3 id="deleting-directories">Deleting Directories</h3>
<p>We can delete a CakeDir's referenced directory and all of its contents via <code>DeleteDir</code>:</p>
<div class="tabbed-set tabbed-alternate" data-tabs="18:2"><input checked="checked" id="__tabbed_18_1" name="__tabbed_18" type="radio" /><input id="__tabbed_18_2" name="__tabbed_18" type="radio" /><div class="tabbed-labels"><label for="__tabbed_18_1">C++</label><label for="__tabbed_18_2">Blueprint</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="language-c++ highlight"><pre><span></span><code><a id="__codelineno-25-1" name="__codelineno-25-1"></a><a href="#__codelineno-25-1"><span class="linenos" data-linenos="1 "></span></a><span class="n">FCakeDir</span><span class="w"> </span><span class="n">DirectoryGame</span><span class="p">{</span><span class="w"> </span><span class="n">TEXTVIEW</span><span class="p">(</span><span class="s">&quot;X:/game&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">};</span>
<a id="__codelineno-25-2" name="__codelineno-25-2"></a><a href="#__codelineno-25-2"><span class="linenos" data-linenos="2 "></span></a>
<a id="__codelineno-25-3" name="__codelineno-25-3"></a><span class="hll"><a href="#__codelineno-25-3"><span class="linenos" data-linenos="3 "></span></a><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">DirectoryGame</span><span class="p">.</span><span class="n">DeleteDir</span><span class="p">())</span>
</span><a id="__codelineno-25-4" name="__codelineno-25-4"></a><a href="#__codelineno-25-4"><span class="linenos" data-linenos="4 "></span></a><span class="p">{</span>
<a id="__codelineno-25-5" name="__codelineno-25-5"></a><a href="#__codelineno-25-5"><span class="linenos" data-linenos="5 "></span></a><span class="w">    </span><span class="n">UE_LOG</span><span class="p">(</span><span class="n">LogTemp</span><span class="p">,</span><span class="w"> </span><span class="n">Error</span><span class="p">,</span><span class="w"> </span><span class="n">TEXT</span><span class="p">(</span><span class="s">&quot;Failed deleting [%s]!&quot;</span><span class="p">),</span><span class="w"> </span><span class="o">*</span><span class="n">DirectoryGame</span><span class="p">.</span><span class="n">CloneDirName</span><span class="p">())</span>
<a id="__codelineno-25-6" name="__codelineno-25-6"></a><a href="#__codelineno-25-6"><span class="linenos" data-linenos="6 "></span></a><span class="p">}</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<p><img alt="Delete Dir" src="../img/bp/dir/delete-dir.png" /></p>
</div>
</div>
</div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p><code>DeleteDir</code> returns a NoOp if the directory does not exist, so we can safely use <code>DeleteDir</code> without checking for directory existence just check the result's <code>IsOk</code> to ensure that the directory does not exist.</p>
</div>
<h3 id="copying-directories">Copying Directories</h3>
<p>To copy a CakeDir's directory to another location on the filesystem, use <code>CopyDir</code>, which takes a CakePath argument specifying where the source directory should be copied:</p>
<div class="tabbed-set tabbed-alternate" data-tabs="19:2"><input checked="checked" id="__tabbed_19_1" name="__tabbed_19" type="radio" /><input id="__tabbed_19_2" name="__tabbed_19" type="radio" /><div class="tabbed-labels"><label for="__tabbed_19_1">C++</label><label for="__tabbed_19_2">Blueprint</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="language-c++ highlight"><pre><span></span><code><a id="__codelineno-26-1" name="__codelineno-26-1"></a><a href="#__codelineno-26-1"><span class="linenos" data-linenos="1 "></span></a><span class="n">FCakeDir</span><span class="w"> </span><span class="n">DirectoryGame</span><span class="p">{</span><span class="w"> </span><span class="n">TEXTVIEW</span><span class="p">(</span><span class="s">&quot;X:/game&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">};</span>
<a id="__codelineno-26-2" name="__codelineno-26-2"></a><a href="#__codelineno-26-2"><span class="linenos" data-linenos="2 "></span></a>
<a id="__codelineno-26-3" name="__codelineno-26-3"></a><a href="#__codelineno-26-3"><span class="linenos" data-linenos="3 "></span></a><span class="n">FCakePath</span><span class="w"> </span><span class="n">PathDestDir</span><span class="p">{</span><span class="w"> </span><span class="n">TEXT</span><span class="p">(</span><span class="s">&quot;Z:/archive/&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">};</span>
<a id="__codelineno-26-4" name="__codelineno-26-4"></a><a href="#__codelineno-26-4"><span class="linenos" data-linenos="4 "></span></a>
<a id="__codelineno-26-5" name="__codelineno-26-5"></a><span class="hll"><a href="#__codelineno-26-5"><span class="linenos" data-linenos="5 "></span></a><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">DirectoryGame</span><span class="p">.</span><span class="n">CopyDir</span><span class="p">(</span><span class="n">PathDestDir</span><span class="p">))</span>
</span><a id="__codelineno-26-6" name="__codelineno-26-6"></a><a href="#__codelineno-26-6"><span class="linenos" data-linenos="6 "></span></a><span class="p">{</span>
<a id="__codelineno-26-7" name="__codelineno-26-7"></a><a href="#__codelineno-26-7"><span class="linenos" data-linenos="7 "></span></a><span class="w">    </span><span class="n">UE_LOG</span><span class="p">(</span><span class="n">LogTemp</span><span class="p">,</span><span class="w"> </span><span class="n">Error</span><span class="p">,</span><span class="w"> </span><span class="n">TEXT</span><span class="p">(</span><span class="s">&quot;Failed copying game directory to archives!&quot;</span><span class="p">));</span>
<a id="__codelineno-26-8" name="__codelineno-26-8"></a><a href="#__codelineno-26-8"><span class="linenos" data-linenos="8 "></span></a><span class="p">}</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<p><img alt="Copy Dir" src="../img/bp/dir/copy-dir.png" /></p>
</div>
</div>
</div>
<p>We can give the copied directory a new name easily via <code>CopyDirWithNewName</code>. In addition to a destination path, we also need to provide a new name that the copied directory should have: </p>
<div class="tabbed-set tabbed-alternate" data-tabs="20:2"><input checked="checked" id="__tabbed_20_1" name="__tabbed_20" type="radio" /><input id="__tabbed_20_2" name="__tabbed_20" type="radio" /><div class="tabbed-labels"><label for="__tabbed_20_1">C++</label><label for="__tabbed_20_2">Blueprint</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="language-c++ highlight"><pre><span></span><code><a id="__codelineno-27-1" name="__codelineno-27-1"></a><a href="#__codelineno-27-1"><span class="linenos" data-linenos="1 "></span></a><span class="n">FCakeDir</span><span class="w"> </span><span class="n">DirectoryGame</span><span class="p">{</span><span class="w"> </span><span class="n">TEXTVIEW</span><span class="p">(</span><span class="s">&quot;X:/game&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">};</span>
<a id="__codelineno-27-2" name="__codelineno-27-2"></a><a href="#__codelineno-27-2"><span class="linenos" data-linenos="2 "></span></a>
<a id="__codelineno-27-3" name="__codelineno-27-3"></a><a href="#__codelineno-27-3"><span class="linenos" data-linenos="3 "></span></a><span class="n">FCakePath</span><span class="w"> </span><span class="n">PathDestDir</span><span class="p">{</span><span class="w"> </span><span class="n">TEXT</span><span class="p">(</span><span class="s">&quot;Z:/archive/&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">};</span>
<a id="__codelineno-27-4" name="__codelineno-27-4"></a><a href="#__codelineno-27-4"><span class="linenos" data-linenos="4 "></span></a>
<a id="__codelineno-27-5" name="__codelineno-27-5"></a><span class="hll"><a href="#__codelineno-27-5"><span class="linenos" data-linenos="5 "></span></a><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">DirectoryGame</span><span class="p">.</span><span class="n">CopyDirWithNewName</span><span class="p">(</span><span class="n">PathDestDir</span><span class="p">,</span><span class="w"> </span><span class="n">TEXTVIEW</span><span class="p">(</span><span class="s">&quot;game_archive&quot;</span><span class="p">)))</span>
</span><a id="__codelineno-27-6" name="__codelineno-27-6"></a><a href="#__codelineno-27-6"><span class="linenos" data-linenos="6 "></span></a><span class="p">{</span>
<a id="__codelineno-27-7" name="__codelineno-27-7"></a><a href="#__codelineno-27-7"><span class="linenos" data-linenos="7 "></span></a><span class="w">    </span><span class="n">UE_LOG</span><span class="p">(</span><span class="n">LogTemp</span><span class="p">,</span><span class="w"> </span><span class="n">Error</span><span class="p">,</span><span class="w"> </span><span class="n">TEXT</span><span class="p">(</span><span class="s">&quot;Failed copying game directory to archives!&quot;</span><span class="p">))</span>
<a id="__codelineno-27-8" name="__codelineno-27-8"></a><a href="#__codelineno-27-8"><span class="linenos" data-linenos="8 "></span></a><span class="p">}</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<p><img alt="Copy Dir With New Name" src="../img/bp/dir/copy-dir-with-new-name.png" /></p>
</div>
</div>
</div>
<p>Assuming the copy succeeds, the copied directory's path would be <code>Z:/archive/game_archive</code>.</p>
<h3 id="moving-directories">Moving Directories</h3>
<p>To move a CakeDir's directory to another location on the filesystem, use <code>MoveDir</code>, which takes a CakePath argument specifying where the source directory should be moved:</p>
<div class="tabbed-set tabbed-alternate" data-tabs="21:2"><input checked="checked" id="__tabbed_21_1" name="__tabbed_21" type="radio" /><input id="__tabbed_21_2" name="__tabbed_21" type="radio" /><div class="tabbed-labels"><label for="__tabbed_21_1">C++</label><label for="__tabbed_21_2">Blueprint</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="language-c++ highlight"><pre><span></span><code><a id="__codelineno-28-1" name="__codelineno-28-1"></a><a href="#__codelineno-28-1"><span class="linenos" data-linenos="1 "></span></a><span class="n">FCakeDir</span><span class="w"> </span><span class="n">DirectoryGame</span><span class="p">{</span><span class="w"> </span><span class="n">TEXTVIEW</span><span class="p">(</span><span class="s">&quot;X:/game&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">};</span>
<a id="__codelineno-28-2" name="__codelineno-28-2"></a><a href="#__codelineno-28-2"><span class="linenos" data-linenos="2 "></span></a>
<a id="__codelineno-28-3" name="__codelineno-28-3"></a><a href="#__codelineno-28-3"><span class="linenos" data-linenos="3 "></span></a><span class="n">FCakePath</span><span class="w"> </span><span class="n">PathDestDir</span><span class="p">{</span><span class="w"> </span><span class="n">TEXT</span><span class="p">(</span><span class="s">&quot;Z:/archive/&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">};</span>
<a id="__codelineno-28-4" name="__codelineno-28-4"></a><a href="#__codelineno-28-4"><span class="linenos" data-linenos="4 "></span></a>
<a id="__codelineno-28-5" name="__codelineno-28-5"></a><span class="hll"><a href="#__codelineno-28-5"><span class="linenos" data-linenos="5 "></span></a><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">DirectoryGame</span><span class="p">.</span><span class="n">MoveDir</span><span class="p">(</span><span class="n">PathDestDir</span><span class="p">))</span>
</span><a id="__codelineno-28-6" name="__codelineno-28-6"></a><a href="#__codelineno-28-6"><span class="linenos" data-linenos="6 "></span></a><span class="p">{</span>
<a id="__codelineno-28-7" name="__codelineno-28-7"></a><a href="#__codelineno-28-7"><span class="linenos" data-linenos="7 "></span></a><span class="w">    </span><span class="n">UE_LOG</span><span class="p">(</span><span class="n">LogTemp</span><span class="p">,</span><span class="w"> </span><span class="n">Error</span><span class="p">,</span><span class="w"> </span><span class="n">TEXT</span><span class="p">(</span><span class="s">&quot;Failed moving game directory to archives!&quot;</span><span class="p">));</span>
<a id="__codelineno-28-8" name="__codelineno-28-8"></a><a href="#__codelineno-28-8"><span class="linenos" data-linenos="8 "></span></a><span class="p">}</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<p><img alt="Move Dir" src="../img/bp/dir/move-dir.png" /></p>
</div>
</div>
</div>
<p>We can give the moved directory a new name easily via <code>MoveDirWithNewName</code>. In addition to a destination path, we also need to provide a new name that the moved directory should have: </p>
<div class="tabbed-set tabbed-alternate" data-tabs="22:2"><input checked="checked" id="__tabbed_22_1" name="__tabbed_22" type="radio" /><input id="__tabbed_22_2" name="__tabbed_22" type="radio" /><div class="tabbed-labels"><label for="__tabbed_22_1">C++</label><label for="__tabbed_22_2">Blueprint</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="language-c++ highlight"><pre><span></span><code><a id="__codelineno-29-1" name="__codelineno-29-1"></a><a href="#__codelineno-29-1"><span class="linenos" data-linenos="1 "></span></a><span class="n">FCakeDir</span><span class="w"> </span><span class="n">DirectoryGame</span><span class="p">{</span><span class="w"> </span><span class="n">TEXTVIEW</span><span class="p">(</span><span class="s">&quot;X:/game&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">};</span>
<a id="__codelineno-29-2" name="__codelineno-29-2"></a><a href="#__codelineno-29-2"><span class="linenos" data-linenos="2 "></span></a>
<a id="__codelineno-29-3" name="__codelineno-29-3"></a><a href="#__codelineno-29-3"><span class="linenos" data-linenos="3 "></span></a><span class="n">FCakePath</span><span class="w"> </span><span class="n">PathDestDir</span><span class="p">{</span><span class="w"> </span><span class="n">TEXT</span><span class="p">(</span><span class="s">&quot;Z:/archive/&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">};</span>
<a id="__codelineno-29-4" name="__codelineno-29-4"></a><a href="#__codelineno-29-4"><span class="linenos" data-linenos="4 "></span></a>
<a id="__codelineno-29-5" name="__codelineno-29-5"></a><span class="hll"><a href="#__codelineno-29-5"><span class="linenos" data-linenos="5 "></span></a><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">DirectoryGame</span><span class="p">.</span><span class="n">MoveDirWithNewName</span><span class="p">(</span><span class="n">PathDestDir</span><span class="p">,</span><span class="w"> </span><span class="n">TEXTVIEW</span><span class="p">(</span><span class="s">&quot;game_archive&quot;</span><span class="p">)))</span>
</span><a id="__codelineno-29-6" name="__codelineno-29-6"></a><a href="#__codelineno-29-6"><span class="linenos" data-linenos="6 "></span></a><span class="p">{</span>
<a id="__codelineno-29-7" name="__codelineno-29-7"></a><a href="#__codelineno-29-7"><span class="linenos" data-linenos="7 "></span></a><span class="w">    </span><span class="n">UE_LOG</span><span class="p">(</span><span class="n">LogTemp</span><span class="p">,</span><span class="w"> </span><span class="n">Error</span><span class="p">,</span><span class="w"> </span><span class="n">TEXT</span><span class="p">(</span><span class="s">&quot;Failed moving game directory to archives!&quot;</span><span class="p">));</span>
<a id="__codelineno-29-8" name="__codelineno-29-8"></a><a href="#__codelineno-29-8"><span class="linenos" data-linenos="8 "></span></a><span class="p">}</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<p><img alt="Move Dir With New Name" src="../img/bp/dir/move-dir-with-new-name.png" /></p>
</div>
</div>
</div>
<p>Assuming the move succeeds, the moved directory's path would be <code>Z:/archive/game_archive</code>.</p>
<h3 id="understanding-copy-move-overwrite-behavior">Understanding Copy / Move Overwrite behavior</h3>
<p>When moving or copying directories to a new location on the filesystem, it's important to understand what happens when the destination directory already exists and contains files and subdirectories. First of all, it is important to understand that the copy or move operations offered by CakeDir objects will <strong>merge</strong> into preexisting directories. This means that any files or subdirectories in the destination directory that do not share names with files in the copied directory will be left entirely untouched. During a copy operation, subdirectories are only created if they do not already exist; otherwise, they are left alone. The 
<a href="/core-api/special-types/policies/#overwriteitems">OverwriteItems</a>
 policy parameter involved in a directory copy or move will resolve any remaining clashes between files -- if a file shares the same relative path in both the destination and the source directory, then it will be overwritten with the source directory's file if overwriting is allowed, or the file will be skipped otherwise.   </p>
<p>Let's look at a couple of examples to solidify our understanding.</p>
<p>We'll start off with an easy example, the situation where the destination directory does not contain any content that will be merged:</p>
<div class="language-text highlight"><pre><span></span><code><a id="__codelineno-30-1" name="__codelineno-30-1"></a><a href="#__codelineno-30-1"><span class="linenos" data-linenos="1 "></span></a>Destination Directory
<a id="__codelineno-30-2" name="__codelineno-30-2"></a><a href="#__codelineno-30-2"><span class="linenos" data-linenos="2 "></span></a> Game
<a id="__codelineno-30-3" name="__codelineno-30-3"></a><a href="#__codelineno-30-3"><span class="linenos" data-linenos="3 "></span></a>     Data 
<a id="__codelineno-30-4" name="__codelineno-30-4"></a><a href="#__codelineno-30-4"><span class="linenos" data-linenos="4 "></span></a>     Tables 
</code></pre></div>
<div class="language-text highlight"><pre><span></span><code><a id="__codelineno-31-1" name="__codelineno-31-1"></a><a href="#__codelineno-31-1"><span class="linenos" data-linenos="1 "></span></a>Source Directory
<a id="__codelineno-31-2" name="__codelineno-31-2"></a><a href="#__codelineno-31-2"><span class="linenos" data-linenos="2 "></span></a> Models
<a id="__codelineno-31-3" name="__codelineno-31-3"></a><a href="#__codelineno-31-3"><span class="linenos" data-linenos="3 "></span></a>     Characters 
<a id="__codelineno-31-4" name="__codelineno-31-4"></a><a href="#__codelineno-31-4"><span class="linenos" data-linenos="4 "></span></a>         elf.fbx
<a id="__codelineno-31-5" name="__codelineno-31-5"></a><a href="#__codelineno-31-5"><span class="linenos" data-linenos="5 "></span></a>     Enemies 
<a id="__codelineno-31-6" name="__codelineno-31-6"></a><a href="#__codelineno-31-6"><span class="linenos" data-linenos="6 "></span></a>         orc.fbx
<a id="__codelineno-31-7" name="__codelineno-31-7"></a><a href="#__codelineno-31-7"><span class="linenos" data-linenos="7 "></span></a>         goblin.fbx
</code></pre></div>
<p>If we want to copy the <code>Models</code> directory into the <code>Game</code> directory, then the final destination path will be <code>Game/Models</code>. The <code>Game</code> directory has no <code>Models</code> directory, and so the copy will proceed without encountering any overwriting scenarios. After the copy operation is successful, our destination directory looks like this:</p>
<div class="language-text highlight"><pre><span></span><code><a id="__codelineno-32-1" name="__codelineno-32-1"></a><a href="#__codelineno-32-1"><span class="linenos" data-linenos="1 "></span></a>Destination Directory (Before Copy)
<a id="__codelineno-32-2" name="__codelineno-32-2"></a><a href="#__codelineno-32-2"><span class="linenos" data-linenos="2 "></span></a> Game
<a id="__codelineno-32-3" name="__codelineno-32-3"></a><a href="#__codelineno-32-3"><span class="linenos" data-linenos="3 "></span></a>     Data 
<a id="__codelineno-32-4" name="__codelineno-32-4"></a><a href="#__codelineno-32-4"><span class="linenos" data-linenos="4 "></span></a>     Tables 
</code></pre></div>
<div class="language-text highlight"><pre><span></span><code><a id="__codelineno-33-1" name="__codelineno-33-1"></a><a href="#__codelineno-33-1"><span class="linenos" data-linenos="1 "></span></a>Source Directory
<a id="__codelineno-33-2" name="__codelineno-33-2"></a><a href="#__codelineno-33-2"><span class="linenos" data-linenos="2 "></span></a> Models
<a id="__codelineno-33-3" name="__codelineno-33-3"></a><a href="#__codelineno-33-3"><span class="linenos" data-linenos="3 "></span></a>     Characters 
<a id="__codelineno-33-4" name="__codelineno-33-4"></a><a href="#__codelineno-33-4"><span class="linenos" data-linenos="4 "></span></a>         elf.fbx
<a id="__codelineno-33-5" name="__codelineno-33-5"></a><a href="#__codelineno-33-5"><span class="linenos" data-linenos="5 "></span></a>     Enemies 
<a id="__codelineno-33-6" name="__codelineno-33-6"></a><a href="#__codelineno-33-6"><span class="linenos" data-linenos="6 "></span></a>         orc.fbx
<a id="__codelineno-33-7" name="__codelineno-33-7"></a><a href="#__codelineno-33-7"><span class="linenos" data-linenos="7 "></span></a>         goblin.fbx
</code></pre></div>
<div class="language-text highlight"><pre><span></span><code><a id="__codelineno-34-1" name="__codelineno-34-1"></a><a href="#__codelineno-34-1"><span class="linenos" data-linenos=" 1 "></span></a>Destination Directory (After Copy)
<a id="__codelineno-34-2" name="__codelineno-34-2"></a><a href="#__codelineno-34-2"><span class="linenos" data-linenos=" 2 "></span></a> Game
<a id="__codelineno-34-3" name="__codelineno-34-3"></a><a href="#__codelineno-34-3"><span class="linenos" data-linenos=" 3 "></span></a>     Data 
<a id="__codelineno-34-4" name="__codelineno-34-4"></a><a href="#__codelineno-34-4"><span class="linenos" data-linenos=" 4 "></span></a>     Tables 
<a id="__codelineno-34-5" name="__codelineno-34-5"></a><a href="#__codelineno-34-5"><span class="linenos" data-linenos=" 5 "></span></a>     Models
<a id="__codelineno-34-6" name="__codelineno-34-6"></a><a href="#__codelineno-34-6"><span class="linenos" data-linenos=" 6 "></span></a>         Characters 
<a id="__codelineno-34-7" name="__codelineno-34-7"></a><a href="#__codelineno-34-7"><span class="linenos" data-linenos=" 7 "></span></a>             elf.fbx
<a id="__codelineno-34-8" name="__codelineno-34-8"></a><a href="#__codelineno-34-8"><span class="linenos" data-linenos=" 8 "></span></a>         Enemies 
<a id="__codelineno-34-9" name="__codelineno-34-9"></a><a href="#__codelineno-34-9"><span class="linenos" data-linenos=" 9 "></span></a>             orc.fbx
<a id="__codelineno-34-10" name="__codelineno-34-10"></a><a href="#__codelineno-34-10"><span class="linenos" data-linenos="10 "></span></a>             goblin.fbx
</code></pre></div>
<p>Now let's look at a scenario that involves overwriting. This time our <code>Game</code> directory has a <code>Models</code> folder, and it also has a <code>Characters/elf.fbx</code> file. It also has some new files and another subdirectory:
<div class="language-text highlight"><pre><span></span><code><a id="__codelineno-35-1" name="__codelineno-35-1"></a><a href="#__codelineno-35-1"><span class="linenos" data-linenos=" 1 "></span></a>Destination Directory (Before Copy)
<a id="__codelineno-35-2" name="__codelineno-35-2"></a><a href="#__codelineno-35-2"><span class="linenos" data-linenos=" 2 "></span></a> Game
<a id="__codelineno-35-3" name="__codelineno-35-3"></a><a href="#__codelineno-35-3"><span class="linenos" data-linenos=" 3 "></span></a>     Data 
<a id="__codelineno-35-4" name="__codelineno-35-4"></a><a href="#__codelineno-35-4"><span class="linenos" data-linenos=" 4 "></span></a>     Tables 
<a id="__codelineno-35-5" name="__codelineno-35-5"></a><a href="#__codelineno-35-5"><span class="linenos" data-linenos=" 5 "></span></a>     Models
<a id="__codelineno-35-6" name="__codelineno-35-6"></a><a href="#__codelineno-35-6"><span class="linenos" data-linenos=" 6 "></span></a>         Characters 
<a id="__codelineno-35-7" name="__codelineno-35-7"></a><a href="#__codelineno-35-7"><span class="linenos" data-linenos=" 7 "></span></a>             elf.fbx [Overwrite Collision]
<a id="__codelineno-35-8" name="__codelineno-35-8"></a><a href="#__codelineno-35-8"><span class="linenos" data-linenos=" 8 "></span></a>             elf-archer.fbx 
<a id="__codelineno-35-9" name="__codelineno-35-9"></a><a href="#__codelineno-35-9"><span class="linenos" data-linenos=" 9 "></span></a>             elf-mage.fbx 
<a id="__codelineno-35-10" name="__codelineno-35-10"></a><a href="#__codelineno-35-10"><span class="linenos" data-linenos="10 "></span></a>         Special 
<a id="__codelineno-35-11" name="__codelineno-35-11"></a><a href="#__codelineno-35-11"><span class="linenos" data-linenos="11 "></span></a>             health-potion.fbx 
</code></pre></div></p>
<p>The source directory we wish to copy has the same form:
<div class="language-text highlight"><pre><span></span><code><a id="__codelineno-36-1" name="__codelineno-36-1"></a><a href="#__codelineno-36-1"><span class="linenos" data-linenos="1 "></span></a>Source Directory
<a id="__codelineno-36-2" name="__codelineno-36-2"></a><a href="#__codelineno-36-2"><span class="linenos" data-linenos="2 "></span></a> Models
<a id="__codelineno-36-3" name="__codelineno-36-3"></a><a href="#__codelineno-36-3"><span class="linenos" data-linenos="3 "></span></a>     Characters 
<a id="__codelineno-36-4" name="__codelineno-36-4"></a><a href="#__codelineno-36-4"><span class="linenos" data-linenos="4 "></span></a>         elf.fbx [Overwrite Collision]
<a id="__codelineno-36-5" name="__codelineno-36-5"></a><a href="#__codelineno-36-5"><span class="linenos" data-linenos="5 "></span></a>     Enemies 
<a id="__codelineno-36-6" name="__codelineno-36-6"></a><a href="#__codelineno-36-6"><span class="linenos" data-linenos="6 "></span></a>         orc.fbx
<a id="__codelineno-36-7" name="__codelineno-36-7"></a><a href="#__codelineno-36-7"><span class="linenos" data-linenos="7 "></span></a>         goblin.fbx
</code></pre></div>
Now if we wish to copy <code>Models</code> into <code>Game</code> again, the copy operation will encounter a collision when it attempts to copy over <code>elf.fbx</code>. How that collision is resolved depends on the value of the 
<a href="/core-api/special-types/policies/#overwriteitems">OverwriteItems</a>
 argument we send in. If we allow overwriting, then the source directory's <code>elf.fbx</code> will be copied over. If we disallow overwriting, then the source directory's <code>elf.fbx</code> file will be skipped and the destination directory's version of <code>elf.fbx</code> will be preserved.</p>
<p>After the copy operation has resolved, our <code>Game</code> directory now looks like this:</p>
<div class="language-text highlight"><pre><span></span><code><a id="__codelineno-37-1" name="__codelineno-37-1"></a><a href="#__codelineno-37-1"><span class="linenos" data-linenos=" 1 "></span></a>Destination Directory (Before Copy)
<a id="__codelineno-37-2" name="__codelineno-37-2"></a><a href="#__codelineno-37-2"><span class="linenos" data-linenos=" 2 "></span></a> Game
<a id="__codelineno-37-3" name="__codelineno-37-3"></a><a href="#__codelineno-37-3"><span class="linenos" data-linenos=" 3 "></span></a>     Data 
<a id="__codelineno-37-4" name="__codelineno-37-4"></a><a href="#__codelineno-37-4"><span class="linenos" data-linenos=" 4 "></span></a>     Tables 
<a id="__codelineno-37-5" name="__codelineno-37-5"></a><a href="#__codelineno-37-5"><span class="linenos" data-linenos=" 5 "></span></a>     Models
<a id="__codelineno-37-6" name="__codelineno-37-6"></a><a href="#__codelineno-37-6"><span class="linenos" data-linenos=" 6 "></span></a>         Characters 
<a id="__codelineno-37-7" name="__codelineno-37-7"></a><a href="#__codelineno-37-7"><span class="linenos" data-linenos=" 7 "></span></a>             elf.fbx 
<a id="__codelineno-37-8" name="__codelineno-37-8"></a><a href="#__codelineno-37-8"><span class="linenos" data-linenos=" 8 "></span></a>             elf-archer.fbx 
<a id="__codelineno-37-9" name="__codelineno-37-9"></a><a href="#__codelineno-37-9"><span class="linenos" data-linenos=" 9 "></span></a>             elf-mage.fbx 
<a id="__codelineno-37-10" name="__codelineno-37-10"></a><a href="#__codelineno-37-10"><span class="linenos" data-linenos="10 "></span></a>         Enemies 
<a id="__codelineno-37-11" name="__codelineno-37-11"></a><a href="#__codelineno-37-11"><span class="linenos" data-linenos="11 "></span></a>             orc.fbx
<a id="__codelineno-37-12" name="__codelineno-37-12"></a><a href="#__codelineno-37-12"><span class="linenos" data-linenos="12 "></span></a>             goblin.fbx
<a id="__codelineno-37-13" name="__codelineno-37-13"></a><a href="#__codelineno-37-13"><span class="linenos" data-linenos="13 "></span></a>         Special 
<a id="__codelineno-37-14" name="__codelineno-37-14"></a><a href="#__codelineno-37-14"><span class="linenos" data-linenos="14 "></span></a>             health-potion.fbx 
</code></pre></div>
<p>As we can see, the two versions of the <code>Models</code> directory have merged. Any overwrite collsions have been resolved via the rule set by the 
<a href="/core-api/special-types/policies/#overwriteitems">OverwriteItems</a>
 argument, and the final <code>Models</code> directory contains the source directory's content as well as the extra files and subdirectories not contained in the source directory.  </p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>If you want a copy to replace its destination directory rather than merge with it, you will first need to ensure that the destination directory is deleted prior to the copy or move.</p>
</div>
<h3 id="changing-directory-name">Changing Directory Name</h3>
<p>To change the name of a directory on the filesystem, use <code>ChangeDirName</code>:</p>
<div class="tabbed-set tabbed-alternate" data-tabs="23:2"><input checked="checked" id="__tabbed_23_1" name="__tabbed_23" type="radio" /><input id="__tabbed_23_2" name="__tabbed_23" type="radio" /><div class="tabbed-labels"><label for="__tabbed_23_1">C++</label><label for="__tabbed_23_2">Blueprint</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="language-c++ highlight"><pre><span></span><code><a id="__codelineno-38-1" name="__codelineno-38-1"></a><a href="#__codelineno-38-1"><span class="linenos" data-linenos=" 1 "></span></a><span class="n">FCakeDir</span><span class="w"> </span><span class="n">DirectoryGame</span><span class="p">{</span><span class="w"> </span><span class="n">TEXTVIEW</span><span class="p">(</span><span class="s">&quot;X:/game&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">};</span>
<a id="__codelineno-38-2" name="__codelineno-38-2"></a><a href="#__codelineno-38-2"><span class="linenos" data-linenos=" 2 "></span></a>
<a id="__codelineno-38-3" name="__codelineno-38-3"></a><span class="hll"><a href="#__codelineno-38-3"><span class="linenos" data-linenos=" 3 "></span></a><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">DirectoryGame</span><span class="p">.</span><span class="n">ChangeDirName</span><span class="p">(</span><span class="n">TEXTVIEW</span><span class="p">(</span><span class="s">&quot;game_main&quot;</span><span class="p">)))</span>
</span><a id="__codelineno-38-4" name="__codelineno-38-4"></a><a href="#__codelineno-38-4"><span class="linenos" data-linenos=" 4 "></span></a><span class="p">{</span>
<a id="__codelineno-38-5" name="__codelineno-38-5"></a><a href="#__codelineno-38-5"><span class="linenos" data-linenos=" 5 "></span></a><span class="w">    </span><span class="n">UE_LOG</span><span class="p">(</span><span class="n">LogTemp</span><span class="p">,</span><span class="w"> </span><span class="n">Error</span><span class="p">,</span><span class="w"> </span>
<a id="__codelineno-38-6" name="__codelineno-38-6"></a><a href="#__codelineno-38-6"><span class="linenos" data-linenos=" 6 "></span></a><span class="w">        </span><span class="n">TEXT</span><span class="p">(</span><span class="s">&quot;Failed renaming [%s] to [%s].&quot;</span><span class="p">),</span><span class="w"> </span>
<a id="__codelineno-38-7" name="__codelineno-38-7"></a><a href="#__codelineno-38-7"><span class="linenos" data-linenos=" 7 "></span></a><span class="w">        </span><span class="o">*</span><span class="n">DirectoryGame</span><span class="p">.</span><span class="n">CloneDirName</span><span class="p">(),</span><span class="w"> </span>
<a id="__codelineno-38-8" name="__codelineno-38-8"></a><a href="#__codelineno-38-8"><span class="linenos" data-linenos=" 8 "></span></a><span class="w">        </span><span class="o">*</span><span class="n">NewName</span>
<a id="__codelineno-38-9" name="__codelineno-38-9"></a><a href="#__codelineno-38-9"><span class="linenos" data-linenos=" 9 "></span></a><span class="w">    </span><span class="p">);</span>
<a id="__codelineno-38-10" name="__codelineno-38-10"></a><a href="#__codelineno-38-10"><span class="linenos" data-linenos="10 "></span></a><span class="p">}</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<p><img alt="Change Dir Name" src="../img/bp/dir/change-dir-name.png" /></p>
</div>
</div>
</div>
<p>Assuming the name change succeeds, the new directory path will be <code>X:/game_main</code>.</p>
<p>The 
<a href="/core-api/special-types/policies/#overwriteitems">OverwriteItems</a>
 parameter allows us to control whether the change name operation should continue if doing so would overwrite a preexisting directory.</p>
<h3 id="retrieving-directory-os-stat-information">Retrieving Directory OS Stat Information</h3>
<p>We can get the stat data for a CakeDir's referenced directory via <code>QueryStatData</code>. It is imperative that callers check to ensure the query operation succeeded before using any of the fields in the stat data -- they will be incorrect / invalid unless the operation succeeded.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="24:2"><input checked="checked" id="__tabbed_24_1" name="__tabbed_24" type="radio" /><input id="__tabbed_24_2" name="__tabbed_24" type="radio" /><div class="tabbed-labels"><label for="__tabbed_24_1">C++</label><label for="__tabbed_24_2">Blueprint</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p><div class="language-c++ highlight"><pre><span></span><code><a id="__codelineno-39-1" name="__codelineno-39-1"></a><a href="#__codelineno-39-1"><span class="linenos" data-linenos=" 1 "></span></a><span class="n">FCakeDir</span><span class="w"> </span><span class="n">DirectoryGame</span><span class="p">{</span><span class="w"> </span><span class="n">TEXTVIEW</span><span class="p">(</span><span class="s">&quot;X:/game&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">};</span>
<a id="__codelineno-39-2" name="__codelineno-39-2"></a><a href="#__codelineno-39-2"><span class="linenos" data-linenos=" 2 "></span></a>
<a id="__codelineno-39-3" name="__codelineno-39-3"></a><a href="#__codelineno-39-3"><span class="linenos" data-linenos=" 3 "></span></a><span class="n">TCakeOrderDir</span><span class="o">&lt;</span><span class="n">FFileStatData</span><span class="o">&gt;</span><span class="w"> </span><span class="n">DirStatOpt</span><span class="p">{</span>
<a id="__codelineno-39-4" name="__codelineno-39-4"></a><span class="hll"><a href="#__codelineno-39-4"><span class="linenos" data-linenos=" 4 "></span></a><span class="w">    </span><span class="n">DirectoryGame</span><span class="p">.</span><span class="n">QueryStatData</span><span class="p">()</span>
</span><a id="__codelineno-39-5" name="__codelineno-39-5"></a><a href="#__codelineno-39-5"><span class="linenos" data-linenos=" 5 "></span></a><span class="p">};</span>
<a id="__codelineno-39-6" name="__codelineno-39-6"></a><a href="#__codelineno-39-6"><span class="linenos" data-linenos=" 6 "></span></a>
<a id="__codelineno-39-7" name="__codelineno-39-7"></a><a href="#__codelineno-39-7"><span class="linenos" data-linenos=" 7 "></span></a><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">DirStatOpt</span><span class="p">.</span><span class="n">IsValid</span><span class="p">())</span>
<a id="__codelineno-39-8" name="__codelineno-39-8"></a><a href="#__codelineno-39-8"><span class="linenos" data-linenos=" 8 "></span></a><span class="p">{</span>
<a id="__codelineno-39-9" name="__codelineno-39-9"></a><a href="#__codelineno-39-9"><span class="linenos" data-linenos=" 9 "></span></a><span class="w">    </span><span class="n">FFileStatData</span><span class="o">&amp;</span><span class="w"> </span><span class="n">DirStat</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">*</span><span class="n">DirStatOpt</span><span class="p">;</span>
<a id="__codelineno-39-10" name="__codelineno-39-10"></a><a href="#__codelineno-39-10"><span class="linenos" data-linenos="10 "></span></a><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">bIsDir</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">DirStat</span><span class="p">.</span><span class="n">bIsDirectory</span><span class="p">;</span><span class="w"> </span><span class="c1">// =&gt; true</span>
<a id="__codelineno-39-11" name="__codelineno-39-11"></a><a href="#__codelineno-39-11"><span class="linenos" data-linenos="11 "></span></a><span class="w">    </span><span class="n">FDateTime</span><span class="w"> </span><span class="n">CreationTimestamp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">DirStat</span><span class="p">.</span><span class="n">CreationTime</span><span class="p">;</span>
<a id="__codelineno-39-12" name="__codelineno-39-12"></a><a href="#__codelineno-39-12"><span class="linenos" data-linenos="12 "></span></a><span class="w">    </span><span class="c1">// ...</span>
<a id="__codelineno-39-13" name="__codelineno-39-13"></a><a href="#__codelineno-39-13"><span class="linenos" data-linenos="13 "></span></a><span class="p">}</span>
</code></pre></div>
<code>QueryStatData</code> will return a <code>TCakeOrderDir&lt;FFileStatData&gt;</code> that holds both the <a href="special-types/results.md#fcakeresultdirio">FCakeResultDirIO</a> and the <code>FFileStatData</code>, which will be valid only if the query operation doesn't fail. For more information about TCakeOrder types and their usage, see <a href="/core-api/special-types/cake-orders/">this section</a>.</p>
</div>
<div class="tabbed-block">
<p><img alt="Query Stat Data" src="../img/bp/dir/query-stat-data.png" /></p>
<p>This returns a CakeFileStatData object. Please note that some of the fields only apply to files, such as file size. They will not hold meaningful values even when the stat data is successfully retrieved for a directory.</p>
<p><img alt="Cake File Stat Data" src="../img/bp/dir/cake-file-stat-data.png" /></p>
</div>
</div>
</div>
<h2 id="directory-traversal">Directory Traversal</h2>
<p>Directory traversal is a vital part of working with file systems, and CakeDir objects offer a comprehensive set of traversal interfaces. At its core, a traversal operation involves invoking a user-supplied callback function on each directory element (file or subdirectory) that is being visited by the traversal function.</p>
<h3 id="traversal-overview">Traversal Overview</h3>
<p>Before we examine the traversal interfaces, it is important to understand some terminology and guiding principles behind CakeFS's traversal design. A traversal has three main traits that define its behavior: </p>
<ol>
<li><strong>Style</strong>: Determines the functional behavior of the traversal operation.</li>
<li><strong>Target</strong>: Determines what kind of element (directories, files, or both) will be visited by a traversal operation.</li>
<li><strong>Depth</strong>: Determines if a traversal is allowed to continue down into children subdirectories.</li>
</ol>
<p>Each of these traits is independent of one another, and so they can be freely mixed in any combination the caller needs. Now, let's look a bit more in depth into each of the traits.</p>
<h4 id="traversal-depth">Traversal Depth</h4>
<p>Traversal depth is controlled via the 
<a href="/core-api/special-types/policies/#opdepth">OpDepth</a>
 parameter. Full details about each setting can be found in its documentation.</p>
<h4 id="traversal-targets">Traversal Targets</h4>
<p>There are three targets a caller can select for a traversal operation to visit at the specified depth: items will visit all files and directories, files will visit only files, and subdirectories will only visit subdirectories. The callback signature for traversals will change based on the target selected. For each target element visited, an items traversal will produce a <a href="../paths/">CakePath</a> object and a boolean indicating if it is a directory, a files traversal will produce a <a href="../files/">CakeFile</a> object, and a subdirectory traversal will produce a CakeDir object.</p>
<h4 id="traversal-styles">Traversal Styles</h4>
<p>There are three styles of traversal that are offered by CakeFS, listed from simplest to the most advanced: unguarded, guarded, and search traversals.</p>
<p>An unguarded traversal will visit every target element at the specified depth. The caller has no ability to terminate the traversal early. In essence, this is traversal with no error handling. </p>
<p>A guarded traversal will attempt to visit every target element at a specified depth, but it can be stopped early by the caller if an error is encountered. In essence, this is traversal with error handling enabled. </p>
<p>A search traversal will visit target elements at the specified depth until a caller-defined condition is met or an error is encountered. As the name implies, a search traversal does not always expect to visit every target element within a directory -- it wishes to terminate as soon as it finds what it is looking for. Search traversals can be terminated early in two states -- if an error is encountered or if the search has found what it needs. If a search traversal visits all target elements and the search is not satisfied, then this traversal will be considered a failed search.</p>
<h4 id="traversal-function-naming">Traversal Function Naming</h4>
<p>Traversal functions utilize the following naming pattern: <code>Traverse&lt;style&gt;?&lt;target&gt;</code>. Unguarded traversals do not have a style identifier in their name because they are the simplest form. Let's say we wish to traverse the files of a directory. We could use the following functions to traverse the files with each style:</p>
<ol>
<li>Unguarded Traversal: <code>TraverseFiles</code></li>
<li>Guarded Traversal: <code>TraverseGuardedFiles</code></li>
<li>Search Traversal: <code>TraverseSearchFiles</code></li>
</ol>
<h4 id="traversal-callbacks">Traversal Callbacks</h4>
<p>Every traversal function will require a callback that is meant to handle each target element that is visited. The signature is based upon two factors: the return type of the callback is determined by the traversal style, and the parameter list is determined by the target element.</p>
<blockquote>
<p>Return Types</p>
</blockquote>
<table>
<thead>
<tr>
<th style="text-align: left;">Traversal Style</th>
<th style="text-align: left;">Return Type</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">Unguarded</td>
<td style="text-align: left;">void</td>
</tr>
<tr>
<td style="text-align: left;">Guarded</td>
<td style="text-align: left;"><a href="/core-api/special-types/signals/#ecakesignalguarded">ECakeSignalGuarded</a></td>
</tr>
<tr>
<td style="text-align: left;">Search</td>
<td style="text-align: left;"><a href="/core-api/special-types/signals/#ecakesignalsearch">ECakeSignalSearch</a></td>
</tr>
</tbody>
</table>
<blockquote>
<p>Parameter Lists</p>
</blockquote>
<table>
<thead>
<tr>
<th style="text-align: left;">Target</th>
<th style="text-align: left;">Parameter List</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">Item</td>
<td style="text-align: left;"><a href="../paths/">CakePath</a>, bool bIsDir</td>
</tr>
<tr>
<td style="text-align: left;">File</td>
<td style="text-align: left;"><a href="../files/">CakeFile</a></td>
</tr>
<tr>
<td style="text-align: left;">Subdir</td>
<td style="text-align: left;">CakeDir</td>
</tr>
</tbody>
</table>
<h3 id="using-traversals">Using Traversals</h3>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>The following traversal examples show only minimal error handling to keep the focus on core usage. While there is nothing inherently wrong with this minimal error handling style, do not view it as a recommendation! See <a href="../error-handling/#traversal-error-handling">Error Handling</a> for a detailed examination of traversal error handling strategies.</p>
</div>
<p>Using traversals with CakeDir objects follows a common pattern: we select a style and target by using a particular function, and then we submit an 
<a href="/core-api/special-types/policies/#opdepth">OpDepth</a>
 parameter that determines the traversal depth and a callback parameter that will be called each time a target element is visited. The callback signature will change based upon the style and target element, and some functions will accept more parameters beyond the depth and callback. We will now look at examples using each traversal style.</p>
<h4 id="unguarded-traversals">Unguarded Traversals</h4>
<p>Unguarded Traversals are the simplest form of traversal. Unless the traversal fails to launch due to an error, it will visit every target element at a specified depth for a given CakeDir object. The user has no control over the traversal operation's termination, and the traversal will not stop until all elements at the specified depth are visited.
The callback signature for unguarded traversals must accept the input parameters for the target element, and the callback should return void since no traversal control is granted to the caller.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="25:2"><input checked="checked" id="__tabbed_25_1" name="__tabbed_25" type="radio" /><input id="__tabbed_25_2" name="__tabbed_25" type="radio" /><div class="tabbed-labels"><label for="__tabbed_25_1">C++</label><label for="__tabbed_25_2">Blueprint</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p>The callback signatures for FCakeDir are described via the following <code>TFunction</code> template aliases:</p>
<div class="language-c++ highlight"><pre><span></span><code><a id="__codelineno-40-1" name="__codelineno-40-1"></a><a href="#__codelineno-40-1"><span class="linenos" data-linenos="1 "></span></a><span class="w">    </span><span class="cm">/** Callback signature for an unguarded item traversal. */</span>
<a id="__codelineno-40-2" name="__codelineno-40-2"></a><a href="#__codelineno-40-2"><span class="linenos" data-linenos="2 "></span></a><span class="w">    </span><span class="k">using</span><span class="w"> </span><span class="n">FTraversalCbItem</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="n">TFunction</span><span class="o">&lt;</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="p">(</span><span class="n">FCakePath</span><span class="w"> </span><span class="n">Path</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">bIsDir</span><span class="p">)</span><span class="w"> </span><span class="o">&gt;</span><span class="p">;</span>
<a id="__codelineno-40-3" name="__codelineno-40-3"></a><a href="#__codelineno-40-3"><span class="linenos" data-linenos="3 "></span></a>
<a id="__codelineno-40-4" name="__codelineno-40-4"></a><a href="#__codelineno-40-4"><span class="linenos" data-linenos="4 "></span></a><span class="w">    </span><span class="cm">/** Callback signature for an unguarded file traversal. */</span>
<a id="__codelineno-40-5" name="__codelineno-40-5"></a><a href="#__codelineno-40-5"><span class="linenos" data-linenos="5 "></span></a><span class="w">    </span><span class="k">using</span><span class="w"> </span><span class="n">FTraversalCbFile</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="n">TFunction</span><span class="o">&lt;</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="p">(</span><span class="n">FCakeFile</span><span class="w"> </span><span class="n">File</span><span class="p">)</span><span class="w"> </span><span class="o">&gt;</span><span class="p">;</span>
<a id="__codelineno-40-6" name="__codelineno-40-6"></a><a href="#__codelineno-40-6"><span class="linenos" data-linenos="6 "></span></a>
<a id="__codelineno-40-7" name="__codelineno-40-7"></a><a href="#__codelineno-40-7"><span class="linenos" data-linenos="7 "></span></a><span class="w">    </span><span class="cm">/** Callback signature for an unguarded subdirectory traversal. */</span>
<a id="__codelineno-40-8" name="__codelineno-40-8"></a><a href="#__codelineno-40-8"><span class="linenos" data-linenos="8 "></span></a><span class="w">    </span><span class="k">using</span><span class="w"> </span><span class="n">FTraversalCbSubdir</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="n">TFunction</span><span class="o">&lt;</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="p">(</span><span class="n">FCakeDir</span><span class="w"> </span><span class="n">Subdir</span><span class="p">)</span><span class="w"> </span><span class="o">&gt;</span><span class="p">;</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<p>When making Unguarded Traversal callbacks, we can use either Events or Functions since we don't need to return a value. The examples shown below are events that would match an Unguarded Callback signature, but we could just as easily have used functions here instead.</p>
<p><img alt="Traversal Callbacks Unguarded" src="../img/bp/dir/traversal-callbacks-unguarded.png" /></p>
</div>
</div>
</div>
<p>For now, let's say we just want to print the name of each file or directory. We'll start by defining our callback:</p>
<div class="tabbed-set tabbed-alternate" data-tabs="26:2"><input checked="checked" id="__tabbed_26_1" name="__tabbed_26" type="radio" /><input id="__tabbed_26_2" name="__tabbed_26" type="radio" /><div class="tabbed-labels"><label for="__tabbed_26_1">C++</label><label for="__tabbed_26_2">Blueprint</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="language-c++ highlight"><pre><span></span><code><a id="__codelineno-41-1" name="__codelineno-41-1"></a><a href="#__codelineno-41-1"><span class="linenos" data-linenos=" 1 "></span></a><span class="k">auto</span><span class="w"> </span><span class="n">PrintItemLeaf</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[](</span><span class="n">FCakePath</span><span class="w"> </span><span class="n">ItemPath</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">bIsDir</span><span class="p">)</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="kt">void</span>
<a id="__codelineno-41-2" name="__codelineno-41-2"></a><a href="#__codelineno-41-2"><span class="linenos" data-linenos=" 2 "></span></a><span class="p">{</span>
<a id="__codelineno-41-3" name="__codelineno-41-3"></a><a href="#__codelineno-41-3"><span class="linenos" data-linenos=" 3 "></span></a><span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="n">FString</span><span class="w"> </span><span class="n">Leaf</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">ItemPath</span><span class="p">.</span><span class="n">CloneLeafString</span><span class="p">()</span><span class="w"> </span><span class="p">};</span>
<a id="__codelineno-41-4" name="__codelineno-41-4"></a><a href="#__codelineno-41-4"><span class="linenos" data-linenos=" 4 "></span></a>
<a id="__codelineno-41-5" name="__codelineno-41-5"></a><a href="#__codelineno-41-5"><span class="linenos" data-linenos=" 5 "></span></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">bIsDir</span><span class="p">)</span>
<a id="__codelineno-41-6" name="__codelineno-41-6"></a><a href="#__codelineno-41-6"><span class="linenos" data-linenos=" 6 "></span></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-41-7" name="__codelineno-41-7"></a><a href="#__codelineno-41-7"><span class="linenos" data-linenos=" 7 "></span></a><span class="w">        </span><span class="n">UE_LOG</span><span class="p">(</span><span class="n">LogTemp</span><span class="p">,</span><span class="w"> </span><span class="n">Warning</span><span class="p">,</span><span class="w"> </span><span class="n">TEXT</span><span class="p">(</span><span class="s">&quot;Visited directory: [%s]&quot;</span><span class="p">),</span><span class="w"> </span><span class="o">*</span><span class="n">Leaf</span><span class="p">);</span>
<a id="__codelineno-41-8" name="__codelineno-41-8"></a><a href="#__codelineno-41-8"><span class="linenos" data-linenos=" 8 "></span></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-41-9" name="__codelineno-41-9"></a><a href="#__codelineno-41-9"><span class="linenos" data-linenos=" 9 "></span></a><span class="w">    </span><span class="k">else</span>
<a id="__codelineno-41-10" name="__codelineno-41-10"></a><a href="#__codelineno-41-10"><span class="linenos" data-linenos="10 "></span></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-41-11" name="__codelineno-41-11"></a><a href="#__codelineno-41-11"><span class="linenos" data-linenos="11 "></span></a><span class="w">        </span><span class="n">UE_LOG</span><span class="p">(</span><span class="n">LogTemp</span><span class="p">,</span><span class="w"> </span><span class="n">Warning</span><span class="p">,</span><span class="w"> </span><span class="n">TEXT</span><span class="p">(</span><span class="s">&quot;Visited file: [%s]&quot;</span><span class="p">),</span><span class="w"> </span><span class="o">*</span><span class="n">Leaf</span><span class="p">);</span>
<a id="__codelineno-41-12" name="__codelineno-41-12"></a><a href="#__codelineno-41-12"><span class="linenos" data-linenos="12 "></span></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-41-13" name="__codelineno-41-13"></a><a href="#__codelineno-41-13"><span class="linenos" data-linenos="13 "></span></a><span class="p">};</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<p><img alt="Traversal Example Unguarded Callback Definition" src="../img/bp/dir/traversal-example-unguarded-callback-definition.png" /></p>
</div>
</div>
</div>
<p>We're now ready to launch our traversal, choosing the desired traversal depth when we call the appropriate traversal function:</p>
<div class="tabbed-set tabbed-alternate" data-tabs="27:2"><input checked="checked" id="__tabbed_27_1" name="__tabbed_27" type="radio" /><input id="__tabbed_27_2" name="__tabbed_27" type="radio" /><div class="tabbed-labels"><label for="__tabbed_27_1">C++</label><label for="__tabbed_27_2">Blueprint</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="language-c++ highlight"><pre><span></span><code><a id="__codelineno-42-1" name="__codelineno-42-1"></a><a href="#__codelineno-42-1"><span class="linenos" data-linenos=" 1 "></span></a><span class="n">FCakeDir</span><span class="w"> </span><span class="n">DirectoryGame</span><span class="p">{</span><span class="w"> </span><span class="n">TEXTVIEW</span><span class="p">(</span><span class="s">&quot;X:/game&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">};</span>
<a id="__codelineno-42-2" name="__codelineno-42-2"></a><a href="#__codelineno-42-2"><span class="linenos" data-linenos=" 2 "></span></a>
<a id="__codelineno-42-3" name="__codelineno-42-3"></a><a href="#__codelineno-42-3"><span class="linenos" data-linenos=" 3 "></span></a><span class="k">auto</span><span class="w"> </span><span class="n">PrintItemLeaf</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[](</span><span class="n">FCakePath</span><span class="w"> </span><span class="n">ItemPath</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">bIsDir</span><span class="p">)</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="kt">void</span>
<a id="__codelineno-42-4" name="__codelineno-42-4"></a><a href="#__codelineno-42-4"><span class="linenos" data-linenos=" 4 "></span></a><span class="p">{</span>
<a id="__codelineno-42-5" name="__codelineno-42-5"></a><a href="#__codelineno-42-5"><span class="linenos" data-linenos=" 5 "></span></a><span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="n">FString</span><span class="w"> </span><span class="n">Leaf</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">ItemPath</span><span class="p">.</span><span class="n">CloneLeafString</span><span class="p">()</span><span class="w"> </span><span class="p">};</span>
<a id="__codelineno-42-6" name="__codelineno-42-6"></a><a href="#__codelineno-42-6"><span class="linenos" data-linenos=" 6 "></span></a>
<a id="__codelineno-42-7" name="__codelineno-42-7"></a><a href="#__codelineno-42-7"><span class="linenos" data-linenos=" 7 "></span></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">bIsDir</span><span class="p">)</span>
<a id="__codelineno-42-8" name="__codelineno-42-8"></a><a href="#__codelineno-42-8"><span class="linenos" data-linenos=" 8 "></span></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-42-9" name="__codelineno-42-9"></a><a href="#__codelineno-42-9"><span class="linenos" data-linenos=" 9 "></span></a><span class="w">        </span><span class="n">UE_LOG</span><span class="p">(</span><span class="n">LogTemp</span><span class="p">,</span><span class="w"> </span><span class="n">Warning</span><span class="p">,</span><span class="w"> </span><span class="n">TEXT</span><span class="p">(</span><span class="s">&quot;Visited directory: [%s]&quot;</span><span class="p">),</span><span class="w"> </span><span class="o">*</span><span class="n">Leaf</span><span class="p">);</span>
<a id="__codelineno-42-10" name="__codelineno-42-10"></a><a href="#__codelineno-42-10"><span class="linenos" data-linenos="10 "></span></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-42-11" name="__codelineno-42-11"></a><a href="#__codelineno-42-11"><span class="linenos" data-linenos="11 "></span></a><span class="w">    </span><span class="k">else</span>
<a id="__codelineno-42-12" name="__codelineno-42-12"></a><a href="#__codelineno-42-12"><span class="linenos" data-linenos="12 "></span></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-42-13" name="__codelineno-42-13"></a><a href="#__codelineno-42-13"><span class="linenos" data-linenos="13 "></span></a><span class="w">        </span><span class="n">UE_LOG</span><span class="p">(</span><span class="n">LogTemp</span><span class="p">,</span><span class="w"> </span><span class="n">Warning</span><span class="p">,</span><span class="w"> </span><span class="n">TEXT</span><span class="p">(</span><span class="s">&quot;Visited file: [%s]&quot;</span><span class="p">),</span><span class="w"> </span><span class="o">*</span><span class="n">Leaf</span><span class="p">);</span>
<a id="__codelineno-42-14" name="__codelineno-42-14"></a><a href="#__codelineno-42-14"><span class="linenos" data-linenos="14 "></span></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-42-15" name="__codelineno-42-15"></a><a href="#__codelineno-42-15"><span class="linenos" data-linenos="15 "></span></a><span class="p">};</span>
<a id="__codelineno-42-16" name="__codelineno-42-16"></a><a href="#__codelineno-42-16"><span class="linenos" data-linenos="16 "></span></a>
<a id="__codelineno-42-17" name="__codelineno-42-17"></a><span class="hll"><a href="#__codelineno-42-17"><span class="linenos" data-linenos="17 "></span></a><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">DirectoryGame</span><span class="p">.</span><span class="n">TraverseItems</span><span class="p">(</span><span class="n">ECakePolicyOpDepth</span><span class="o">::</span><span class="n">Shallow</span><span class="p">,</span><span class="w"> </span><span class="n">PrintItemLeaf</span><span class="p">))</span>
</span><a id="__codelineno-42-18" name="__codelineno-42-18"></a><a href="#__codelineno-42-18"><span class="linenos" data-linenos="18 "></span></a><span class="p">{</span>
<a id="__codelineno-42-19" name="__codelineno-42-19"></a><a href="#__codelineno-42-19"><span class="linenos" data-linenos="19 "></span></a><span class="w">    </span><span class="n">UE_LOG</span><span class="p">(</span><span class="n">LogTemp</span><span class="p">,</span><span class="w"> </span><span class="n">Error</span><span class="p">,</span><span class="w"> </span><span class="n">TEXT</span><span class="p">(</span><span class="s">&quot;Unguarded item traveral failed to launch!&quot;</span><span class="p">));</span>
<a id="__codelineno-42-20" name="__codelineno-42-20"></a><a href="#__codelineno-42-20"><span class="linenos" data-linenos="20 "></span></a><span class="p">}</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<p><img alt="Traversal Example Unguarded Launch" src="../img/bp/dir/traversal-example-unguarded-launch.png" /></p>
</div>
</div>
</div>
<h4 id="guarded-traversals">Guarded Traversals</h4>
<p>Guarded Traversals are just like unguarded traversals, except the callers can terminate the traversal early if an error is encountered. Outside of this difference, the traversal's effect remains the same -- its goal is to visit all elements at the specified depth. Because the caller has gained some control over the traversal operation, we now must return an <a href="special-types/signals.md#ecakesignalguarded">ECakeSignalGuarded</a> signal type to indicate if the traversal is allowed to proceed.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="28:2"><input checked="checked" id="__tabbed_28_1" name="__tabbed_28" type="radio" /><input id="__tabbed_28_2" name="__tabbed_28" type="radio" /><div class="tabbed-labels"><label for="__tabbed_28_1">C++</label><label for="__tabbed_28_2">Blueprint</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p>The callback signatures for Guarded Traversals are described via the following <code>TFunction</code> template aliases:</p>
<div class="language-c++ highlight"><pre><span></span><code><a id="__codelineno-43-1" name="__codelineno-43-1"></a><a href="#__codelineno-43-1"><span class="linenos" data-linenos="1 "></span></a><span class="cm">/** Callback signature for a guarded item traversal. */</span>
<a id="__codelineno-43-2" name="__codelineno-43-2"></a><a href="#__codelineno-43-2"><span class="linenos" data-linenos="2 "></span></a><span class="k">using</span><span class="w"> </span><span class="n">FGuardedCbItem</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="n">TFunction</span><span class="o">&lt;</span><span class="w"> </span><span class="n">ECakeSignalGuarded</span><span class="p">(</span><span class="n">FCakePath</span><span class="w"> </span><span class="n">Path</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">bIsDir</span><span class="p">)</span><span class="w"> </span><span class="o">&gt;</span><span class="p">;</span>
<a id="__codelineno-43-3" name="__codelineno-43-3"></a><a href="#__codelineno-43-3"><span class="linenos" data-linenos="3 "></span></a>
<a id="__codelineno-43-4" name="__codelineno-43-4"></a><a href="#__codelineno-43-4"><span class="linenos" data-linenos="4 "></span></a><span class="cm">/** Callback signature for a guarded file traversal. */</span>
<a id="__codelineno-43-5" name="__codelineno-43-5"></a><a href="#__codelineno-43-5"><span class="linenos" data-linenos="5 "></span></a><span class="k">using</span><span class="w"> </span><span class="n">FGuardedCbFile</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="n">TFunction</span><span class="o">&lt;</span><span class="w"> </span><span class="n">ECakeSignalGuarded</span><span class="p">(</span><span class="n">FCakeFile</span><span class="w"> </span><span class="n">File</span><span class="p">)</span><span class="w"> </span><span class="o">&gt;</span><span class="p">;</span>
<a id="__codelineno-43-6" name="__codelineno-43-6"></a><a href="#__codelineno-43-6"><span class="linenos" data-linenos="6 "></span></a>
<a id="__codelineno-43-7" name="__codelineno-43-7"></a><a href="#__codelineno-43-7"><span class="linenos" data-linenos="7 "></span></a><span class="cm">/** Callback signature for a guarded subdirectory traversal. */</span>
<a id="__codelineno-43-8" name="__codelineno-43-8"></a><a href="#__codelineno-43-8"><span class="linenos" data-linenos="8 "></span></a><span class="k">using</span><span class="w"> </span><span class="n">FGuardedCbSubdir</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">TFunction</span><span class="o">&lt;</span><span class="w"> </span><span class="n">ECakeSignalGuarded</span><span class="p">(</span><span class="n">FCakeDir</span><span class="w"> </span><span class="n">Subdir</span><span class="p">)</span><span class="w"> </span><span class="o">&gt;</span><span class="p">;</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<p>Starting with Guarded Traversals, our callbacks need to return signals that will control how the traversal operation will proceed after each step. Since we need to return values back to the traversal operation via our callback, we now can only use functions. Outside of that, the only thing that changes is the return type, all signatures remain exactly the same as with the Unguarded callbacks.</p>
<p><img alt="Traversal Callback Sig Guarded Items" src="../img/bp/dir/traversal-callback-sig-guarded-items.png" /></p>
<p><img alt="Traversal Callback Sig Guarded Files" src="../img/bp/dir/traversal-callback-sig-guarded-files.png" /></p>
<p><img alt="Traversal Callback Sig Guarded Subdirs" src="../img/bp/dir/traversal-callback-sig-guarded-subdirs.png" /></p>
</div>
</div>
</div>
<p>For this example, we'll use a guarded traversal over files to query the file size of each file, and abort the traversal if any of the query operations fail. </p>
<div class="tabbed-set tabbed-alternate" data-tabs="29:2"><input checked="checked" id="__tabbed_29_1" name="__tabbed_29" type="radio" /><input id="__tabbed_29_2" name="__tabbed_29" type="radio" /><div class="tabbed-labels"><label for="__tabbed_29_1">C++</label><label for="__tabbed_29_2">Blueprint</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="language-c++ highlight"><pre><span></span><code><a id="__codelineno-44-1" name="__codelineno-44-1"></a><a href="#__codelineno-44-1"><span class="linenos" data-linenos=" 1 "></span></a><span class="k">auto</span><span class="w"> </span><span class="n">QueryFileSizeGuarded</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[](</span><span class="n">FCakeFile</span><span class="w"> </span><span class="n">File</span><span class="p">)</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">ECakeSignalGuarded</span>
<a id="__codelineno-44-2" name="__codelineno-44-2"></a><a href="#__codelineno-44-2"><span class="linenos" data-linenos=" 2 "></span></a><span class="p">{</span>
<a id="__codelineno-44-3" name="__codelineno-44-3"></a><a href="#__codelineno-44-3"><span class="linenos" data-linenos=" 3 "></span></a><span class="w">    </span><span class="n">TCakeOrderFile</span><span class="o">&lt;</span><span class="n">int64</span><span class="o">&gt;</span><span class="w"> </span><span class="n">FileSizeOrder</span><span class="p">{</span><span class="w"> </span><span class="n">File</span><span class="p">.</span><span class="n">QueryFileSizeInBytes</span><span class="p">()</span><span class="w"> </span><span class="p">};</span>
<a id="__codelineno-44-4" name="__codelineno-44-4"></a><a href="#__codelineno-44-4"><span class="linenos" data-linenos=" 4 "></span></a>
<a id="__codelineno-44-5" name="__codelineno-44-5"></a><a href="#__codelineno-44-5"><span class="linenos" data-linenos=" 5 "></span></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">FileSizeOrder</span><span class="p">.</span><span class="n">IsValid</span><span class="p">())</span>
<a id="__codelineno-44-6" name="__codelineno-44-6"></a><a href="#__codelineno-44-6"><span class="linenos" data-linenos=" 6 "></span></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-44-7" name="__codelineno-44-7"></a><a href="#__codelineno-44-7"><span class="linenos" data-linenos=" 7 "></span></a><span class="w">        </span><span class="n">UE_LOG</span><span class="p">(</span><span class="n">LogTemp</span><span class="p">,</span><span class="w"> </span><span class="n">Warning</span><span class="p">,</span><span class="w"> </span>
<a id="__codelineno-44-8" name="__codelineno-44-8"></a><a href="#__codelineno-44-8"><span class="linenos" data-linenos=" 8 "></span></a><span class="w">            </span><span class="n">TEXT</span><span class="p">(</span><span class="s">&quot;[%s] ([%d] bytes)&quot;</span><span class="p">),</span><span class="w"> </span>
<a id="__codelineno-44-9" name="__codelineno-44-9"></a><a href="#__codelineno-44-9"><span class="linenos" data-linenos=" 9 "></span></a><span class="w">            </span><span class="o">*</span><span class="n">File</span><span class="p">.</span><span class="n">CloneFileName</span><span class="p">(),</span><span class="w"> </span>
<a id="__codelineno-44-10" name="__codelineno-44-10"></a><a href="#__codelineno-44-10"><span class="linenos" data-linenos="10 "></span></a><span class="w">            </span><span class="o">*</span><span class="n">FileSizeOrder</span>
<a id="__codelineno-44-11" name="__codelineno-44-11"></a><a href="#__codelineno-44-11"><span class="linenos" data-linenos="11 "></span></a><span class="w">        </span><span class="p">);</span>
<a id="__codelineno-44-12" name="__codelineno-44-12"></a><a href="#__codelineno-44-12"><span class="linenos" data-linenos="12 "></span></a>
<a id="__codelineno-44-13" name="__codelineno-44-13"></a><a href="#__codelineno-44-13"><span class="linenos" data-linenos="13 "></span></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">ECakeSignalGuarded</span><span class="o">::</span><span class="n">Continue</span><span class="p">;</span>
<a id="__codelineno-44-14" name="__codelineno-44-14"></a><a href="#__codelineno-44-14"><span class="linenos" data-linenos="14 "></span></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-44-15" name="__codelineno-44-15"></a><a href="#__codelineno-44-15"><span class="linenos" data-linenos="15 "></span></a>
<a id="__codelineno-44-16" name="__codelineno-44-16"></a><a href="#__codelineno-44-16"><span class="linenos" data-linenos="16 "></span></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">ECakeSignalGuarded</span><span class="o">::</span><span class="n">Abort</span><span class="p">;</span>
<a id="__codelineno-44-17" name="__codelineno-44-17"></a><a href="#__codelineno-44-17"><span class="linenos" data-linenos="17 "></span></a><span class="p">};</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<p><img alt="Traversal Example Guarded Callback Definition" src="../img/bp/dir/traversal-example-guarded-callback-definition.png" /></p>
</div>
</div>
</div>
<p>Using <a href="special-types/signals.md#ecakesignalguarded">ECakeSignalGuarded</a> is simple, we return the <code>Continue</code> signal when no errors are encountered which will advance the traversal to the next element, or we return the <code>Abort</code> signal when an error is encountered, which will stop the traversal at this step.</p>
<p>We're now ready to launch our traversal, choosing the desired traversal depth when we call the appropriate traversal function:</p>
<div class="tabbed-set tabbed-alternate" data-tabs="30:2"><input checked="checked" id="__tabbed_30_1" name="__tabbed_30" type="radio" /><input id="__tabbed_30_2" name="__tabbed_30" type="radio" /><div class="tabbed-labels"><label for="__tabbed_30_1">C++</label><label for="__tabbed_30_2">Blueprint</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="language-c++ highlight"><pre><span></span><code><a id="__codelineno-45-1" name="__codelineno-45-1"></a><a href="#__codelineno-45-1"><span class="linenos" data-linenos=" 1 "></span></a><span class="n">FCakeDir</span><span class="w"> </span><span class="n">DirectoryGame</span><span class="p">{</span><span class="w"> </span><span class="n">TEXTVIEW</span><span class="p">(</span><span class="s">&quot;X:/game&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">};</span>
<a id="__codelineno-45-2" name="__codelineno-45-2"></a><a href="#__codelineno-45-2"><span class="linenos" data-linenos=" 2 "></span></a>
<a id="__codelineno-45-3" name="__codelineno-45-3"></a><a href="#__codelineno-45-3"><span class="linenos" data-linenos=" 3 "></span></a><span class="k">auto</span><span class="w"> </span><span class="n">QueryFileSizeGuarded</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[](</span><span class="n">FCakeFile</span><span class="w"> </span><span class="n">File</span><span class="p">)</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">ECakeSignalGuarded</span>
<a id="__codelineno-45-4" name="__codelineno-45-4"></a><a href="#__codelineno-45-4"><span class="linenos" data-linenos=" 4 "></span></a><span class="p">{</span>
<a id="__codelineno-45-5" name="__codelineno-45-5"></a><a href="#__codelineno-45-5"><span class="linenos" data-linenos=" 5 "></span></a><span class="w">    </span><span class="n">TCakeOrderFile</span><span class="o">&lt;</span><span class="n">int64</span><span class="o">&gt;</span><span class="w"> </span><span class="n">FileSizeOrder</span><span class="p">{</span><span class="w"> </span><span class="n">File</span><span class="p">.</span><span class="n">QueryFileSizeInBytes</span><span class="p">()</span><span class="w"> </span><span class="p">};</span>
<a id="__codelineno-45-6" name="__codelineno-45-6"></a><a href="#__codelineno-45-6"><span class="linenos" data-linenos=" 6 "></span></a>
<a id="__codelineno-45-7" name="__codelineno-45-7"></a><a href="#__codelineno-45-7"><span class="linenos" data-linenos=" 7 "></span></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">FileSizeOrder</span><span class="p">.</span><span class="n">IsValid</span><span class="p">())</span>
<a id="__codelineno-45-8" name="__codelineno-45-8"></a><a href="#__codelineno-45-8"><span class="linenos" data-linenos=" 8 "></span></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-45-9" name="__codelineno-45-9"></a><a href="#__codelineno-45-9"><span class="linenos" data-linenos=" 9 "></span></a><span class="w">        </span><span class="n">UE_LOG</span><span class="p">(</span><span class="n">LogTemp</span><span class="p">,</span><span class="w"> </span><span class="n">Warning</span><span class="p">,</span><span class="w"> </span>
<a id="__codelineno-45-10" name="__codelineno-45-10"></a><a href="#__codelineno-45-10"><span class="linenos" data-linenos="10 "></span></a><span class="w">            </span><span class="n">TEXT</span><span class="p">(</span><span class="s">&quot;[%s] ([%d] bytes)&quot;</span><span class="p">),</span><span class="w"> </span>
<a id="__codelineno-45-11" name="__codelineno-45-11"></a><a href="#__codelineno-45-11"><span class="linenos" data-linenos="11 "></span></a><span class="w">            </span><span class="o">*</span><span class="n">File</span><span class="p">.</span><span class="n">CloneFileName</span><span class="p">(),</span><span class="w"> </span>
<a id="__codelineno-45-12" name="__codelineno-45-12"></a><a href="#__codelineno-45-12"><span class="linenos" data-linenos="12 "></span></a><span class="w">            </span><span class="o">*</span><span class="n">FileSizeOrder</span>
<a id="__codelineno-45-13" name="__codelineno-45-13"></a><a href="#__codelineno-45-13"><span class="linenos" data-linenos="13 "></span></a><span class="w">        </span><span class="p">);</span>
<a id="__codelineno-45-14" name="__codelineno-45-14"></a><span class="hll"><a href="#__codelineno-45-14"><span class="linenos" data-linenos="14 "></span></a>
</span><a id="__codelineno-45-15" name="__codelineno-45-15"></a><a href="#__codelineno-45-15"><span class="linenos" data-linenos="15 "></span></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">ECakeSignalGuarded</span><span class="o">::</span><span class="n">Continue</span><span class="p">;</span>
<a id="__codelineno-45-16" name="__codelineno-45-16"></a><a href="#__codelineno-45-16"><span class="linenos" data-linenos="16 "></span></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-45-17" name="__codelineno-45-17"></a><a href="#__codelineno-45-17"><span class="linenos" data-linenos="17 "></span></a>
<a id="__codelineno-45-18" name="__codelineno-45-18"></a><a href="#__codelineno-45-18"><span class="linenos" data-linenos="18 "></span></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">ECakeSignalGuarded</span><span class="o">::</span><span class="n">Abort</span><span class="p">;</span>
<a id="__codelineno-45-19" name="__codelineno-45-19"></a><a href="#__codelineno-45-19"><span class="linenos" data-linenos="19 "></span></a><span class="p">};</span>
<a id="__codelineno-45-20" name="__codelineno-45-20"></a><a href="#__codelineno-45-20"><span class="linenos" data-linenos="20 "></span></a>
<a id="__codelineno-45-21" name="__codelineno-45-21"></a><a href="#__codelineno-45-21"><span class="linenos" data-linenos="21 "></span></a><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">DirectoryGame</span><span class="p">.</span><span class="n">TraverseGuardedFiles</span><span class="p">(</span><span class="n">ECakePolicyOpDepth</span><span class="o">::</span><span class="n">Shallow</span><span class="p">,</span><span class="w"> </span><span class="n">QueryFileSizeGuarded</span><span class="p">))</span>
<a id="__codelineno-45-22" name="__codelineno-45-22"></a><a href="#__codelineno-45-22"><span class="linenos" data-linenos="22 "></span></a><span class="p">{</span>
<a id="__codelineno-45-23" name="__codelineno-45-23"></a><a href="#__codelineno-45-23"><span class="linenos" data-linenos="23 "></span></a><span class="w">    </span><span class="n">UE_LOG</span><span class="p">(</span><span class="n">LogTemp</span><span class="p">,</span><span class="w"> </span><span class="n">Error</span><span class="p">,</span><span class="w"> </span><span class="n">TEXT</span><span class="p">(</span><span class="s">&quot;Failed to check all file sizes!&quot;</span><span class="p">));</span>
<a id="__codelineno-45-24" name="__codelineno-45-24"></a><a href="#__codelineno-45-24"><span class="linenos" data-linenos="24 "></span></a><span class="p">}</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<p><img alt="Traversal Example Guarded Launch" src="../img/bp/dir/traversal-example-guarded-launch.png" /></p>
</div>
</div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>For detailed guidance regarding traversal results and error handling, see <a href="../error-handling/#traversal-error-handling-idioms">this section</a>.</p>
</div>
<h4 id="search-traversals">Search Traversals</h4>
<p>Search Traversals are an advanced traversal operation that allow callers to terminate a traversal as soon as they have accomplished a particular goal. They allow the traversal operation to be terminated early in either an error state or a success state, allowing for optimized performance in situations where an entire directory doesn't necessarily need to be traversed. A search traversal operation's goal is to satisfy the caller's search goal and then immediately terminate the traversal. </p>
<p>A search traversal can end in three states: </p>
<ol>
<li>Failure: All target elements were visited at the specified depth and the search goal was not met.</li>
<li>Success: The search goal was met.</li>
<li>Aborted: The search traversal was terminated due to an error.</li>
</ol>
<p>Search traversal callbacks return <a href="/core-api/special-types/signals/#ecakesignalsearch">ECakeSignalSearch</a> signals in order to inform the traversal operation of the search's state at each step of the traversal.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="31:2"><input checked="checked" id="__tabbed_31_1" name="__tabbed_31" type="radio" /><input id="__tabbed_31_2" name="__tabbed_31" type="radio" /><div class="tabbed-labels"><label for="__tabbed_31_1">C++</label><label for="__tabbed_31_2">Blueprint</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p>The callback signatures for search traversals are described via the following <code>TFunction</code> template aliases:</p>
<div class="language-c++ highlight"><pre><span></span><code><a id="__codelineno-46-1" name="__codelineno-46-1"></a><a href="#__codelineno-46-1"><span class="linenos" data-linenos="1 "></span></a><span class="cm">/** Callback signature for a search item traversal. */</span>
<a id="__codelineno-46-2" name="__codelineno-46-2"></a><a href="#__codelineno-46-2"><span class="linenos" data-linenos="2 "></span></a><span class="k">using</span><span class="w"> </span><span class="n">FSearchCbItem</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="n">TFunction</span><span class="o">&lt;</span><span class="w"> </span><span class="n">ECakeSignalSearch</span><span class="p">(</span><span class="n">FCakePath</span><span class="w"> </span><span class="n">Path</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">bIsDir</span><span class="p">)</span><span class="w">  </span><span class="o">&gt;</span><span class="p">;</span>
<a id="__codelineno-46-3" name="__codelineno-46-3"></a><a href="#__codelineno-46-3"><span class="linenos" data-linenos="3 "></span></a>
<a id="__codelineno-46-4" name="__codelineno-46-4"></a><a href="#__codelineno-46-4"><span class="linenos" data-linenos="4 "></span></a><span class="cm">/** Callback signature for a search file traversal. */</span>
<a id="__codelineno-46-5" name="__codelineno-46-5"></a><a href="#__codelineno-46-5"><span class="linenos" data-linenos="5 "></span></a><span class="k">using</span><span class="w"> </span><span class="n">FSearchCbFile</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="n">TFunction</span><span class="o">&lt;</span><span class="w"> </span><span class="n">ECakeSignalSearch</span><span class="p">(</span><span class="n">FCakeFile</span><span class="w"> </span><span class="n">File</span><span class="p">)</span><span class="w">  </span><span class="o">&gt;</span><span class="p">;</span>
<a id="__codelineno-46-6" name="__codelineno-46-6"></a><a href="#__codelineno-46-6"><span class="linenos" data-linenos="6 "></span></a>
<a id="__codelineno-46-7" name="__codelineno-46-7"></a><a href="#__codelineno-46-7"><span class="linenos" data-linenos="7 "></span></a><span class="cm">/** Callback signature for a search subdirectory traversal. */</span>
<a id="__codelineno-46-8" name="__codelineno-46-8"></a><a href="#__codelineno-46-8"><span class="linenos" data-linenos="8 "></span></a><span class="k">using</span><span class="w"> </span><span class="n">FSearchCbSubdir</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="n">TFunction</span><span class="o">&lt;</span><span class="w"> </span><span class="n">ECakeSignalSearch</span><span class="p">(</span><span class="n">FCakeDir</span><span class="w"> </span><span class="n">Subdir</span><span class="p">)</span><span class="w"> </span><span class="o">&gt;</span><span class="p">;</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<p>Similar to Guarded Traversals, we need to return a signal to the traversal operation. This means we can only change functions. All that changes is the signal type we need to return -- an ECakeSignalSearch, which will inform the traversal operation of the search's context. </p>
<p><img alt="Traversal Callback Sig Search Items" src="../img/bp/dir/traversal-callback-sig-search-items.png" /></p>
<p><img alt="Traversal Callback Sig Search Files" src="../img/bp/dir/traversal-callback-sig-search-files.png" /></p>
<p><img alt="Traversal Callback Sig Search Subdirs" src="../img/bp/dir/traversal-callback-sig-search-subdirs.png" /></p>
</div>
</div>
</div>
<p>For this example, we'll use a search traversal to attempt to find a subdirectory named "config" contained somewhere within our source directory.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="32:2"><input checked="checked" id="__tabbed_32_1" name="__tabbed_32" type="radio" /><input id="__tabbed_32_2" name="__tabbed_32" type="radio" /><div class="tabbed-labels"><label for="__tabbed_32_1">C++</label><label for="__tabbed_32_2">Blueprint</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="language-c++ highlight"><pre><span></span><code><a id="__codelineno-47-1" name="__codelineno-47-1"></a><a href="#__codelineno-47-1"><span class="linenos" data-linenos=" 1 "></span></a><span class="n">FCakeDir</span><span class="w"> </span><span class="n">ConfigDir</span><span class="p">{};</span>
<a id="__codelineno-47-2" name="__codelineno-47-2"></a><a href="#__codelineno-47-2"><span class="linenos" data-linenos=" 2 "></span></a><span class="n">FString</span><span class="w"> </span><span class="n">ConfigName</span><span class="p">{</span><span class="w"> </span><span class="n">TEXT</span><span class="p">(</span><span class="s">&quot;config&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">};</span>
<a id="__codelineno-47-3" name="__codelineno-47-3"></a><a href="#__codelineno-47-3"><span class="linenos" data-linenos=" 3 "></span></a>
<a id="__codelineno-47-4" name="__codelineno-47-4"></a><a href="#__codelineno-47-4"><span class="linenos" data-linenos=" 4 "></span></a><span class="k">auto</span><span class="w"> </span><span class="n">ConfigDirSearch</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="o">&amp;</span><span class="n">ConfigDir</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">ConfigName</span><span class="p">](</span><span class="n">FCakeDir</span><span class="w"> </span><span class="n">Subdir</span><span class="p">)</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">ECakeSignalSearch</span>
<a id="__codelineno-47-5" name="__codelineno-47-5"></a><a href="#__codelineno-47-5"><span class="linenos" data-linenos=" 5 "></span></a><span class="p">{</span>
<a id="__codelineno-47-6" name="__codelineno-47-6"></a><a href="#__codelineno-47-6"><span class="linenos" data-linenos=" 6 "></span></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">Subdir</span><span class="p">.</span><span class="n">CloneDirName</span><span class="p">().</span><span class="n">Equals</span><span class="p">(</span><span class="n">ConfigName</span><span class="p">,</span><span class="w"> </span><span class="n">ESearchCase</span><span class="o">::</span><span class="n">IgnoreCase</span><span class="p">))</span>
<a id="__codelineno-47-7" name="__codelineno-47-7"></a><a href="#__codelineno-47-7"><span class="linenos" data-linenos=" 7 "></span></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-47-8" name="__codelineno-47-8"></a><a href="#__codelineno-47-8"><span class="linenos" data-linenos=" 8 "></span></a><span class="w">        </span><span class="n">ConfigDir</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">MoveTemp</span><span class="p">(</span><span class="n">Subdir</span><span class="p">);</span>
<a id="__codelineno-47-9" name="__codelineno-47-9"></a><a href="#__codelineno-47-9"><span class="linenos" data-linenos=" 9 "></span></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">ECakeSignalSearch</span><span class="o">::</span><span class="n">Success</span><span class="p">;</span>
<a id="__codelineno-47-10" name="__codelineno-47-10"></a><a href="#__codelineno-47-10"><span class="linenos" data-linenos="10 "></span></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-47-11" name="__codelineno-47-11"></a><a href="#__codelineno-47-11"><span class="linenos" data-linenos="11 "></span></a>
<a id="__codelineno-47-12" name="__codelineno-47-12"></a><a href="#__codelineno-47-12"><span class="linenos" data-linenos="12 "></span></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">ECakeSignalSearch</span><span class="o">::</span><span class="n">Continue</span><span class="p">;</span>
<a id="__codelineno-47-13" name="__codelineno-47-13"></a><a href="#__codelineno-47-13"><span class="linenos" data-linenos="13 "></span></a><span class="p">};</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<p><img alt="Traversal Example Search Callback Definition" src="../img/bp/dir/traversal-example-search-callback-definition.png" /></p>
</div>
</div>
</div>
<p>When using <a href="/core-api/special-types/signals/#ecakesignalsearch">ECakeSignalSearch</a>, we return <code>Success</code> when the search is satisfied and the traversal should end. In our case, this is when the subdirectory name matches "config". Otherwise, we return <code>Continue</code>, which means the search is not yet satisfied and the next element should be visited.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>We can also return an <code>Abort</code> signal just like a guarded traversal; however, it is not required. Since we don't have any IO failure or other critical errors that could occur within our callback, there is no need to return an <code>Abort</code> signal.</p>
</div>
<p>We're now ready to launch our traversal, choosing the desired traversal depth when we call the appropriate search traversal function:</p>
<div class="tabbed-set tabbed-alternate" data-tabs="33:2"><input checked="checked" id="__tabbed_33_1" name="__tabbed_33" type="radio" /><input id="__tabbed_33_2" name="__tabbed_33" type="radio" /><div class="tabbed-labels"><label for="__tabbed_33_1">C++</label><label for="__tabbed_33_2">Blueprint</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="language-c++ highlight"><pre><span></span><code><a id="__codelineno-48-1" name="__codelineno-48-1"></a><a href="#__codelineno-48-1"><span class="linenos" data-linenos=" 1 "></span></a><span class="n">FCakeDir</span><span class="w"> </span><span class="n">DirectoryGame</span><span class="p">{</span><span class="w"> </span><span class="n">TEXTVIEW</span><span class="p">(</span><span class="s">&quot;X:/game&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">};</span>
<a id="__codelineno-48-2" name="__codelineno-48-2"></a><a href="#__codelineno-48-2"><span class="linenos" data-linenos=" 2 "></span></a>
<a id="__codelineno-48-3" name="__codelineno-48-3"></a><a href="#__codelineno-48-3"><span class="linenos" data-linenos=" 3 "></span></a><span class="n">FCakeDir</span><span class="w"> </span><span class="n">ConfigDir</span><span class="p">{};</span>
<a id="__codelineno-48-4" name="__codelineno-48-4"></a><a href="#__codelineno-48-4"><span class="linenos" data-linenos=" 4 "></span></a><span class="n">FString</span><span class="w"> </span><span class="n">ConfigName</span><span class="p">{</span><span class="w"> </span><span class="n">TEXT</span><span class="p">(</span><span class="s">&quot;config&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">};</span>
<a id="__codelineno-48-5" name="__codelineno-48-5"></a><a href="#__codelineno-48-5"><span class="linenos" data-linenos=" 5 "></span></a>
<a id="__codelineno-48-6" name="__codelineno-48-6"></a><a href="#__codelineno-48-6"><span class="linenos" data-linenos=" 6 "></span></a><span class="k">auto</span><span class="w"> </span><span class="n">ConfigDirSearch</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="o">&amp;</span><span class="n">ConfigDir</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">ConfigName</span><span class="p">](</span><span class="n">FCakeDir</span><span class="w"> </span><span class="n">Subdir</span><span class="p">)</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">ECakeSignalSearch</span>
<a id="__codelineno-48-7" name="__codelineno-48-7"></a><a href="#__codelineno-48-7"><span class="linenos" data-linenos=" 7 "></span></a><span class="p">{</span>
<a id="__codelineno-48-8" name="__codelineno-48-8"></a><a href="#__codelineno-48-8"><span class="linenos" data-linenos=" 8 "></span></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">Subdir</span><span class="p">.</span><span class="n">CloneDirName</span><span class="p">().</span><span class="n">Equals</span><span class="p">(</span><span class="n">ConfigName</span><span class="p">,</span><span class="w"> </span><span class="n">ESearchCase</span><span class="o">::</span><span class="n">IgnoreCase</span><span class="p">))</span>
<a id="__codelineno-48-9" name="__codelineno-48-9"></a><a href="#__codelineno-48-9"><span class="linenos" data-linenos=" 9 "></span></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-48-10" name="__codelineno-48-10"></a><a href="#__codelineno-48-10"><span class="linenos" data-linenos="10 "></span></a><span class="w">        </span><span class="n">ConfigDir</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">MoveTemp</span><span class="p">(</span><span class="n">Subdir</span><span class="p">);</span>
<a id="__codelineno-48-11" name="__codelineno-48-11"></a><a href="#__codelineno-48-11"><span class="linenos" data-linenos="11 "></span></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">ECakeSignalSearch</span><span class="o">::</span><span class="n">Success</span><span class="p">;</span>
<a id="__codelineno-48-12" name="__codelineno-48-12"></a><a href="#__codelineno-48-12"><span class="linenos" data-linenos="12 "></span></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-48-13" name="__codelineno-48-13"></a><a href="#__codelineno-48-13"><span class="linenos" data-linenos="13 "></span></a>
<a id="__codelineno-48-14" name="__codelineno-48-14"></a><a href="#__codelineno-48-14"><span class="linenos" data-linenos="14 "></span></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">ECakeSignalSearch</span><span class="o">::</span><span class="n">Continue</span><span class="p">;</span>
<a id="__codelineno-48-15" name="__codelineno-48-15"></a><a href="#__codelineno-48-15"><span class="linenos" data-linenos="15 "></span></a><span class="p">};</span>
<a id="__codelineno-48-16" name="__codelineno-48-16"></a><a href="#__codelineno-48-16"><span class="linenos" data-linenos="16 "></span></a>
<a id="__codelineno-48-17" name="__codelineno-48-17"></a><span class="hll"><a href="#__codelineno-48-17"><span class="linenos" data-linenos="17 "></span></a><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">DirectoryGame</span><span class="p">.</span><span class="n">TraverseSearchSubdirs</span><span class="p">(</span><span class="n">ECakePolicyOpDepth</span><span class="o">::</span><span class="n">Deep</span><span class="p">,</span><span class="w"> </span><span class="n">ConfigDirSearch</span><span class="p">))</span>
</span><a id="__codelineno-48-18" name="__codelineno-48-18"></a><a href="#__codelineno-48-18"><span class="linenos" data-linenos="18 "></span></a><span class="p">{</span>
<a id="__codelineno-48-19" name="__codelineno-48-19"></a><a href="#__codelineno-48-19"><span class="linenos" data-linenos="19 "></span></a><span class="w">    </span><span class="n">UE_LOG</span><span class="p">(</span><span class="n">LogTemp</span><span class="p">,</span><span class="w"> </span><span class="n">Warning</span><span class="p">,</span><span class="w"> </span>
<a id="__codelineno-48-20" name="__codelineno-48-20"></a><a href="#__codelineno-48-20"><span class="linenos" data-linenos="20 "></span></a><span class="w">        </span><span class="n">TEXT</span><span class="p">(</span><span class="s">&quot;Found config at path: [%s]&quot;</span><span class="p">),</span><span class="w"> </span>
<a id="__codelineno-48-21" name="__codelineno-48-21"></a><a href="#__codelineno-48-21"><span class="linenos" data-linenos="21 "></span></a><span class="w">        </span><span class="o">*</span><span class="n">ConfigDir</span><span class="p">.</span><span class="n">GetPathString</span><span class="p">()</span>
<a id="__codelineno-48-22" name="__codelineno-48-22"></a><a href="#__codelineno-48-22"><span class="linenos" data-linenos="22 "></span></a><span class="w">    </span><span class="p">);</span>
<a id="__codelineno-48-23" name="__codelineno-48-23"></a><a href="#__codelineno-48-23"><span class="linenos" data-linenos="23 "></span></a><span class="p">}</span>
<a id="__codelineno-48-24" name="__codelineno-48-24"></a><a href="#__codelineno-48-24"><span class="linenos" data-linenos="24 "></span></a><span class="k">else</span>
<a id="__codelineno-48-25" name="__codelineno-48-25"></a><a href="#__codelineno-48-25"><span class="linenos" data-linenos="25 "></span></a><span class="p">{</span>
<a id="__codelineno-48-26" name="__codelineno-48-26"></a><a href="#__codelineno-48-26"><span class="linenos" data-linenos="26 "></span></a><span class="w">    </span><span class="n">UE_LOG</span><span class="p">(</span><span class="n">LogTemp</span><span class="p">,</span><span class="w"> </span><span class="n">Warning</span><span class="p">,</span><span class="w"> </span><span class="n">TEXT</span><span class="p">(</span><span class="s">&quot;No config directory was found!&quot;</span><span class="p">));</span>
<a id="__codelineno-48-27" name="__codelineno-48-27"></a><a href="#__codelineno-48-27"><span class="linenos" data-linenos="27 "></span></a><span class="p">}</span>
</code></pre></div>
<p>The result from a search traversal will only return true if the search was successful, so we can branch on the result and safely use <code>ConfigDir</code> when it returns true. This is the most basic way to use the results from a search traversal, please see <a href="/core-api/error-handling/#traversal-error-handling-idioms">traversal error handling</a> for a more detailed look at how to work with search traversal results.</p>
</div>
<div class="tabbed-block">
<p><img alt="Traversal Example Search Launch" src="../img/bp/dir/traversal-example-search-launch.png" /></p>
</div>
</div>
</div>
<h4 id="filtered-traversals">Filtered Traversals</h4>
<p>Filtered traversals are a special kind of traversal that only works with files and uses the CakeDir object's file extension filter to select which files to visit. Every style has a files function that has the suffix <code>WithFilter</code>:</p>
<ol>
<li><code>TraverseFilesWithFilter</code></li>
<li><code>TraverseGuardedFilesWithFilter</code></li>
<li><code>TraverseSearchFilesWithFilter</code></li>
</ol>
<p>The default behavior of a filtered traversal is to visit any files whose file extensions are in the extension filter set. We can modify this default behavior through extra parameters, and we'll examine how in a bit.</p>
<p>Let's start with a basic example: we'll use the filter to visit only <code>.txt</code> files in a directory and read the text data. Since we're using a file IO operation during each traversal step, we should use a guarded traversal so we can respond to errors.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="34:2"><input checked="checked" id="__tabbed_34_1" name="__tabbed_34" type="radio" /><input id="__tabbed_34_2" name="__tabbed_34" type="radio" /><div class="tabbed-labels"><label for="__tabbed_34_1">C++</label><label for="__tabbed_34_2">Blueprint</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p>The native filtered traversal functions take one extra (optional) <a href="/core-api/special-types/settings/#fcakesettingsextfilter">FCakeSettingsExtFilter</a> settings struct. These settings control how the filter should be used to select which files to visit. </p>
<p>Unless you have changed the <a href="/core-api/special-types/policies/#default-policy-values">default policy values</a> manually, the default behavior of the extension filter is to visit any files whose file extensions are in the extension filter set.</p>
<div class="language-c++ highlight"><pre><span></span><code><a id="__codelineno-49-1" name="__codelineno-49-1"></a><a href="#__codelineno-49-1"><span class="linenos" data-linenos=" 1 "></span></a><span class="n">FCakeDir</span><span class="w"> </span><span class="n">DirectoryGame</span><span class="p">{</span><span class="w"> </span><span class="n">FCakePath</span><span class="p">{</span><span class="n">TEXTVIEW</span><span class="p">(</span><span class="s">&quot;X:/game&quot;</span><span class="p">)},</span><span class="w"> </span><span class="n">TEXTVIEW</span><span class="p">(</span><span class="s">&quot;txt&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">};</span>
<a id="__codelineno-49-2" name="__codelineno-49-2"></a><a href="#__codelineno-49-2"><span class="linenos" data-linenos=" 2 "></span></a>
<a id="__codelineno-49-3" name="__codelineno-49-3"></a><a href="#__codelineno-49-3"><span class="linenos" data-linenos=" 3 "></span></a><span class="k">auto</span><span class="w"> </span><span class="n">ReadTextFiles</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[](</span><span class="n">FCakeFile</span><span class="w"> </span><span class="n">File</span><span class="p">)</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">ECakeSignalGuarded</span>
<a id="__codelineno-49-4" name="__codelineno-49-4"></a><a href="#__codelineno-49-4"><span class="linenos" data-linenos=" 4 "></span></a><span class="p">{</span>
<a id="__codelineno-49-5" name="__codelineno-49-5"></a><a href="#__codelineno-49-5"><span class="linenos" data-linenos=" 5 "></span></a><span class="w">    </span><span class="n">TCakeOrderFile</span><span class="o">&lt;</span><span class="n">FString</span><span class="o">&gt;</span><span class="w"> </span><span class="n">ReadOrder</span><span class="p">{</span><span class="w"> </span><span class="n">File</span><span class="p">.</span><span class="n">ReadTextFile</span><span class="p">()</span><span class="w"> </span><span class="p">};</span>
<a id="__codelineno-49-6" name="__codelineno-49-6"></a><a href="#__codelineno-49-6"><span class="linenos" data-linenos=" 6 "></span></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">ReadOrder</span><span class="p">.</span><span class="n">IsValid</span><span class="p">())</span>
<a id="__codelineno-49-7" name="__codelineno-49-7"></a><a href="#__codelineno-49-7"><span class="linenos" data-linenos=" 7 "></span></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-49-8" name="__codelineno-49-8"></a><a href="#__codelineno-49-8"><span class="linenos" data-linenos=" 8 "></span></a><span class="w">        </span><span class="n">UE_LOG</span><span class="p">(</span><span class="n">LogTemp</span><span class="p">,</span><span class="w"> </span><span class="n">Warning</span><span class="p">,</span><span class="w"> </span><span class="n">TEXT</span><span class="p">(</span><span class="s">&quot;[%s]: [%s]&quot;</span><span class="p">),</span><span class="w"> </span><span class="o">*</span><span class="n">File</span><span class="p">.</span><span class="n">CloneFileName</span><span class="p">(),</span><span class="w"> </span><span class="o">**</span><span class="n">ReadOrder</span><span class="p">);</span>
<a id="__codelineno-49-9" name="__codelineno-49-9"></a><a href="#__codelineno-49-9"><span class="linenos" data-linenos=" 9 "></span></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">ECakeSignalGuarded</span><span class="o">::</span><span class="n">Continue</span><span class="p">;</span>
<a id="__codelineno-49-10" name="__codelineno-49-10"></a><a href="#__codelineno-49-10"><span class="linenos" data-linenos="10 "></span></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-49-11" name="__codelineno-49-11"></a><a href="#__codelineno-49-11"><span class="linenos" data-linenos="11 "></span></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">ECakeSignalGuarded</span><span class="o">::</span><span class="n">Abort</span><span class="p">;</span>
<a id="__codelineno-49-12" name="__codelineno-49-12"></a><a href="#__codelineno-49-12"><span class="linenos" data-linenos="12 "></span></a><span class="p">};</span>
<a id="__codelineno-49-13" name="__codelineno-49-13"></a><a href="#__codelineno-49-13"><span class="linenos" data-linenos="13 "></span></a>
<a id="__codelineno-49-14" name="__codelineno-49-14"></a><span class="hll"><a href="#__codelineno-49-14"><span class="linenos" data-linenos="14 "></span></a><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">DirectoryGame</span><span class="p">.</span><span class="n">TraverseGuardedFilesWithFilter</span><span class="p">(</span>
</span><a id="__codelineno-49-15" name="__codelineno-49-15"></a><span class="hll"><a href="#__codelineno-49-15"><span class="linenos" data-linenos="15 "></span></a><span class="w">    </span><span class="n">ECakePolicyOpDepth</span><span class="o">::</span><span class="n">Deep</span><span class="p">,</span><span class="w"> </span><span class="n">ReadTextFiles</span><span class="p">))</span>
</span><a id="__codelineno-49-16" name="__codelineno-49-16"></a><a href="#__codelineno-49-16"><span class="linenos" data-linenos="16 "></span></a><span class="p">{</span>
<a id="__codelineno-49-17" name="__codelineno-49-17"></a><a href="#__codelineno-49-17"><span class="linenos" data-linenos="17 "></span></a><span class="w">    </span><span class="n">UE_LOG</span><span class="p">(</span><span class="n">LogTemp</span><span class="p">,</span><span class="w"> </span><span class="n">Error</span><span class="p">,</span><span class="w"> </span><span class="n">TEXT</span><span class="p">(</span><span class="s">&quot;An error occurred while reading the text files.&quot;</span><span class="p">));</span>
<a id="__codelineno-49-18" name="__codelineno-49-18"></a><a href="#__codelineno-49-18"><span class="linenos" data-linenos="18 "></span></a><span class="p">}</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<p><img alt="Traversal Example Filtered Read Text Callback Definition" src="../img/bp/dir/traversal-example-filtered-read-text-callback-definition.png" /></p>
<p><img alt="Traversal Example Filtered Read Text Launch" src="../img/bp/dir/traversal-example-filtered-read-text-launch.png" /></p>
</div>
</div>
</div>
<p>We can customize which files should be visited via the filter settings parameters. In this next example, we'll invert the filter logic so that our traversal skips any files whose extensions are in the extension set. For this example, we'll collect all files from a target build directory, ignoring any build artifacts that we don't care about. Since we want all files in the directory and we are just going to be adding CakeFile objects to an array within the callback, we don't need any error handling, so we can just use a unguarded traversal. Note how simple our callback implementation is -- since the filter is being used to exclude build artifacts, we know that any files that we receive are files we are interested in using, so all we need to do is just add each file to the array. This is the major benefit of using filtered traversals: we can focus entirely on operations involving files of interest, and we can delegate the filtering logic boilerplate to the traversal operation.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="35:2"><input checked="checked" id="__tabbed_35_1" name="__tabbed_35" type="radio" /><input id="__tabbed_35_2" name="__tabbed_35" type="radio" /><div class="tabbed-labels"><label for="__tabbed_35_1">C++</label><label for="__tabbed_35_2">Blueprint</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="language-c++ highlight"><pre><span></span><code><a id="__codelineno-50-1" name="__codelineno-50-1"></a><a href="#__codelineno-50-1"><span class="linenos" data-linenos=" 1 "></span></a><span class="n">FCakeDir</span><span class="w"> </span><span class="n">DirectoryGame</span><span class="p">{</span><span class="w"> </span>
<a id="__codelineno-50-2" name="__codelineno-50-2"></a><a href="#__codelineno-50-2"><span class="linenos" data-linenos=" 2 "></span></a><span class="w">    </span><span class="n">FCakePath</span><span class="p">{</span><span class="w"> </span><span class="n">TEXTVIEW</span><span class="p">(</span><span class="s">&quot;X:/game/build/win64&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">},</span><span class="w"> </span>
<a id="__codelineno-50-3" name="__codelineno-50-3"></a><a href="#__codelineno-50-3"><span class="linenos" data-linenos=" 3 "></span></a><span class="w">    </span><span class="n">TEXTVIEW</span><span class="p">(</span><span class="s">&quot;bin | obj | rsp | pdb&quot;</span><span class="p">)</span><span class="w"> </span>
<a id="__codelineno-50-4" name="__codelineno-50-4"></a><a href="#__codelineno-50-4"><span class="linenos" data-linenos=" 4 "></span></a><span class="p">};</span>
<a id="__codelineno-50-5" name="__codelineno-50-5"></a><a href="#__codelineno-50-5"><span class="linenos" data-linenos=" 5 "></span></a>
<a id="__codelineno-50-6" name="__codelineno-50-6"></a><a href="#__codelineno-50-6"><span class="linenos" data-linenos=" 6 "></span></a><span class="n">TArray</span><span class="o">&lt;</span><span class="n">FCakeFile</span><span class="o">&gt;</span><span class="w"> </span><span class="n">FilesOfInterest</span><span class="p">{};</span>
<a id="__codelineno-50-7" name="__codelineno-50-7"></a><a href="#__codelineno-50-7"><span class="linenos" data-linenos=" 7 "></span></a>
<a id="__codelineno-50-8" name="__codelineno-50-8"></a><a href="#__codelineno-50-8"><span class="linenos" data-linenos=" 8 "></span></a><span class="k">auto</span><span class="w"> </span><span class="n">GatherFiles</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="o">&amp;</span><span class="n">FilesOfInterest</span><span class="p">](</span><span class="n">FCakeFile</span><span class="w"> </span><span class="n">File</span><span class="p">)</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="kt">void</span>
<a id="__codelineno-50-9" name="__codelineno-50-9"></a><a href="#__codelineno-50-9"><span class="linenos" data-linenos=" 9 "></span></a><span class="p">{</span>
<a id="__codelineno-50-10" name="__codelineno-50-10"></a><a href="#__codelineno-50-10"><span class="linenos" data-linenos="10 "></span></a><span class="w">    </span><span class="n">FilesOfInterest</span><span class="p">.</span><span class="n">Emplace</span><span class="p">(</span><span class="n">MoveTemp</span><span class="p">(</span><span class="n">File</span><span class="p">));</span>
<a id="__codelineno-50-11" name="__codelineno-50-11"></a><a href="#__codelineno-50-11"><span class="linenos" data-linenos="11 "></span></a><span class="p">};</span>
<a id="__codelineno-50-12" name="__codelineno-50-12"></a><a href="#__codelineno-50-12"><span class="linenos" data-linenos="12 "></span></a>
<a id="__codelineno-50-13" name="__codelineno-50-13"></a><span class="hll"><a href="#__codelineno-50-13"><span class="linenos" data-linenos="13 "></span></a><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">DirectoryGame</span><span class="p">.</span><span class="n">TraverseFilesWithFilter</span><span class="p">(</span>
</span><a id="__codelineno-50-14" name="__codelineno-50-14"></a><span class="hll"><a href="#__codelineno-50-14"><span class="linenos" data-linenos="14 "></span></a><span class="w">    </span><span class="n">ECakePolicyOpDepth</span><span class="o">::</span><span class="n">Deep</span><span class="p">,</span><span class="w"> </span>
</span><a id="__codelineno-50-15" name="__codelineno-50-15"></a><span class="hll"><a href="#__codelineno-50-15"><span class="linenos" data-linenos="15 "></span></a><span class="w">    </span><span class="n">GatherFiles</span><span class="p">,</span>
</span><a id="__codelineno-50-16" name="__codelineno-50-16"></a><span class="hll"><a href="#__codelineno-50-16"><span class="linenos" data-linenos="16 "></span></a><span class="w">    </span><span class="p">{</span><span class="w"> </span><span class="p">.</span><span class="n">FilterMode</span><span class="o">=</span><span class="n">ECakePolicyExtFilterMode</span><span class="o">::</span><span class="n">ExcludeMatching</span><span class="w"> </span><span class="p">}</span>
</span><a id="__codelineno-50-17" name="__codelineno-50-17"></a><span class="hll"><a href="#__codelineno-50-17"><span class="linenos" data-linenos="17 "></span></a><span class="p">))</span>
</span><a id="__codelineno-50-18" name="__codelineno-50-18"></a><a href="#__codelineno-50-18"><span class="linenos" data-linenos="18 "></span></a><span class="p">{</span>
<a id="__codelineno-50-19" name="__codelineno-50-19"></a><a href="#__codelineno-50-19"><span class="linenos" data-linenos="19 "></span></a><span class="w">    </span><span class="n">UE_LOG</span><span class="p">(</span><span class="n">LogTemp</span><span class="p">,</span><span class="w"> </span><span class="n">Error</span><span class="p">,</span><span class="w"> </span><span class="n">TEXT</span><span class="p">(</span><span class="s">&quot;An error occurred while reading the text files.&quot;</span><span class="p">));</span>
<a id="__codelineno-50-20" name="__codelineno-50-20"></a><a href="#__codelineno-50-20"><span class="linenos" data-linenos="20 "></span></a><span class="p">}</span>
<a id="__codelineno-50-21" name="__codelineno-50-21"></a><a href="#__codelineno-50-21"><span class="linenos" data-linenos="21 "></span></a><span class="k">else</span>
<a id="__codelineno-50-22" name="__codelineno-50-22"></a><a href="#__codelineno-50-22"><span class="linenos" data-linenos="22 "></span></a><span class="p">{</span>
<a id="__codelineno-50-23" name="__codelineno-50-23"></a><a href="#__codelineno-50-23"><span class="linenos" data-linenos="23 "></span></a><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">FCakeFile</span><span class="o">&amp;</span><span class="w"> </span><span class="n">File</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">FilesOfInterest</span><span class="p">)</span>
<a id="__codelineno-50-24" name="__codelineno-50-24"></a><a href="#__codelineno-50-24"><span class="linenos" data-linenos="24 "></span></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-50-25" name="__codelineno-50-25"></a><a href="#__codelineno-50-25"><span class="linenos" data-linenos="25 "></span></a><span class="w">        </span><span class="n">UE_LOG</span><span class="p">(</span><span class="n">LogTemp</span><span class="p">,</span><span class="w"> </span><span class="n">Warning</span><span class="p">,</span><span class="w"> </span>
<a id="__codelineno-50-26" name="__codelineno-50-26"></a><a href="#__codelineno-50-26"><span class="linenos" data-linenos="26 "></span></a><span class="w">            </span><span class="n">TEXT</span><span class="p">(</span><span class="s">&quot;Doing work with file: [%s]&quot;</span><span class="p">),</span><span class="w"> </span>
<a id="__codelineno-50-27" name="__codelineno-50-27"></a><a href="#__codelineno-50-27"><span class="linenos" data-linenos="27 "></span></a><span class="w">            </span><span class="o">*</span><span class="n">File</span><span class="p">.</span><span class="n">CloneFileName</span><span class="p">()</span>
<a id="__codelineno-50-28" name="__codelineno-50-28"></a><a href="#__codelineno-50-28"><span class="linenos" data-linenos="28 "></span></a><span class="w">        </span><span class="p">);</span>
<a id="__codelineno-50-29" name="__codelineno-50-29"></a><a href="#__codelineno-50-29"><span class="linenos" data-linenos="29 "></span></a><span class="w">        </span><span class="c1">// ... do some work</span>
<a id="__codelineno-50-30" name="__codelineno-50-30"></a><a href="#__codelineno-50-30"><span class="linenos" data-linenos="30 "></span></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-50-31" name="__codelineno-50-31"></a><a href="#__codelineno-50-31"><span class="linenos" data-linenos="31 "></span></a><span class="p">}</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<p><img alt="Traversal Example Filtered Collect Files" src="../img/bp/dir/traversal-example-filtered-collect-files.png" /></p>
</div>
</div>
</div>
<h2 id="advanced-usage">Advanced Usage</h2>
<h3 id="checking-if-a-directory-contains-elements">Checking if a Directory Contains Elements</h3>
<p>To check if a directory contains any items, files, or subdirectories, we can use the <code>ContainsAny</code> family of functions, which all return a <code>bool</code> that is true if the directory contains at least one element, false otherwise. We can also use a filtered version when checking for files.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="36:2"><input checked="checked" id="__tabbed_36_1" name="__tabbed_36" type="radio" /><input id="__tabbed_36_2" name="__tabbed_36" type="radio" /><div class="tabbed-labels"><label for="__tabbed_36_1">C++</label><label for="__tabbed_36_2">Blueprint</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="language-c++ highlight"><pre><span></span><code><a id="__codelineno-51-1" name="__codelineno-51-1"></a><a href="#__codelineno-51-1"><span class="linenos" data-linenos="1 "></span></a><span class="n">FCakeDir</span><span class="w"> </span><span class="n">DirectoryGame</span><span class="p">{</span><span class="w"> </span><span class="n">FCakePath</span><span class="p">{</span><span class="n">TEXTVIEW</span><span class="p">(</span><span class="s">&quot;X:/game&quot;</span><span class="p">)},</span><span class="w"> </span><span class="n">TEXTVIEW</span><span class="p">(</span><span class="s">&quot;txt&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">};</span>
<a id="__codelineno-51-2" name="__codelineno-51-2"></a><a href="#__codelineno-51-2"><span class="linenos" data-linenos="2 "></span></a>
<a id="__codelineno-51-3" name="__codelineno-51-3"></a><a href="#__codelineno-51-3"><span class="linenos" data-linenos="3 "></span></a><span class="k">const</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">bHasAnyItems</span><span class="w">    </span><span class="p">{</span><span class="w"> </span><span class="n">DirectoryGame</span><span class="p">.</span><span class="n">ContainsAnyItems</span><span class="p">()</span><span class="w">           </span><span class="p">};</span>
<a id="__codelineno-51-4" name="__codelineno-51-4"></a><a href="#__codelineno-51-4"><span class="linenos" data-linenos="4 "></span></a><span class="k">const</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">bHasAnyFiles</span><span class="w">    </span><span class="p">{</span><span class="w"> </span><span class="n">DirectoryGame</span><span class="p">.</span><span class="n">ContainsAnyFiles</span><span class="p">()</span><span class="w">           </span><span class="p">};</span>
<a id="__codelineno-51-5" name="__codelineno-51-5"></a><a href="#__codelineno-51-5"><span class="linenos" data-linenos="5 "></span></a><span class="k">const</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">bHasAnyTextFiles</span><span class="p">{</span><span class="w"> </span><span class="n">DirectoryGame</span><span class="p">.</span><span class="n">ContainsAnyFilesWithFilter</span><span class="p">()</span><span class="w"> </span><span class="p">};</span>
<a id="__codelineno-51-6" name="__codelineno-51-6"></a><a href="#__codelineno-51-6"><span class="linenos" data-linenos="6 "></span></a><span class="k">const</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">bHasAnySubdirs</span><span class="w">  </span><span class="p">{</span><span class="w"> </span><span class="n">DirectoryGame</span><span class="p">.</span><span class="n">ContainsAnySubdirs</span><span class="p">()</span><span class="w">         </span><span class="p">};</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<p><img alt="Contains Any Items" src="../img/bp/dir/contains-any-items.png" /></p>
<p><img alt="Contains Any Files" src="../img/bp/dir/contains-any-files.png" /></p>
<p><img alt="Contains Any Files With Filter" src="../img/bp/dir/contains-any-files-with-filter.png" /></p>
<p><img alt="Contains Any Subdirs" src="../img/bp/dir/contains-any-subdirs.png" /></p>
</div>
</div>
</div>
<h3 id="advanced-clone-functions">Advanced Clone Functions</h3>
<h4 id="clonewithnewpath">CloneWithNewPath</h4>
<p>This function is meant to be used when we want to copy the extension filter of a preexisting CakeDir object but use a different directory path. We merely need to submit the CakePath object that represents the new path the cloned object should have, and the extension filter will be copied for us.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="37:2"><input checked="checked" id="__tabbed_37_1" name="__tabbed_37" type="radio" /><input id="__tabbed_37_2" name="__tabbed_37" type="radio" /><div class="tabbed-labels"><label for="__tabbed_37_1">C++</label><label for="__tabbed_37_2">Blueprint</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="language-c++ highlight"><pre><span></span><code><a id="__codelineno-52-1" name="__codelineno-52-1"></a><a href="#__codelineno-52-1"><span class="linenos" data-linenos="1 "></span></a><span class="n">FCakeDir</span><span class="w">  </span><span class="n">DirectoryGame</span><span class="p">{</span><span class="w"> </span><span class="n">FCakePath</span><span class="p">{</span><span class="n">TEXTVIEW</span><span class="p">(</span><span class="s">&quot;X:/game/build/win64&quot;</span><span class="p">)},</span><span class="w"> </span><span class="n">TEXTVIEW</span><span class="p">(</span><span class="s">&quot;txt&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">};</span>
<a id="__codelineno-52-2" name="__codelineno-52-2"></a><a href="#__codelineno-52-2"><span class="linenos" data-linenos="2 "></span></a><span class="n">FCakePath</span><span class="w"> </span><span class="n">NewGameDir</span><span class="w">   </span><span class="p">{</span><span class="w"> </span><span class="n">TEXTVIEW</span><span class="p">(</span><span class="s">&quot;Y:/game/cake-arena/win64&quot;</span><span class="p">)</span><span class="w">                        </span><span class="p">};</span>
<a id="__codelineno-52-3" name="__codelineno-52-3"></a><a href="#__codelineno-52-3"><span class="linenos" data-linenos="3 "></span></a>
<a id="__codelineno-52-4" name="__codelineno-52-4"></a><span class="hll"><a href="#__codelineno-52-4"><span class="linenos" data-linenos="4 "></span></a><span class="n">FCakeDir</span><span class="w"> </span><span class="n">CakeArenaDir</span><span class="p">{</span><span class="w"> </span><span class="n">DirectoryGame</span><span class="p">.</span><span class="n">CloneWithNewPath</span><span class="p">(</span><span class="n">NewGameDir</span><span class="p">)</span><span class="w"> </span><span class="p">};</span>
</span><a id="__codelineno-52-5" name="__codelineno-52-5"></a><a href="#__codelineno-52-5"><span class="linenos" data-linenos="5 "></span></a><span class="c1">// Path: &quot;Y:/game/cake-arena/win64&quot;</span>
<a id="__codelineno-52-6" name="__codelineno-52-6"></a><a href="#__codelineno-52-6"><span class="linenos" data-linenos="6 "></span></a><span class="c1">// Ext Filter: [&quot;.txt&quot;]</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<p><img alt="Clone With New Path" src="../img/bp/dir/clone-with-new-path.png" /></p>
</div>
</div>
</div>
<p>The returned CakeDir object will hold the new path <code>Y:/game/cake-arena/win64</code>, but its extension filter will contain one extension <code>.txt</code>, just like the source directory.</p>
<h4 id="clonewithnewparent">CloneWithNewParent</h4>
<p>Sometimes we might want to clone a CakeDir object and just change its parent path. <code>CloneWithNewParent</code> allows us to submit a new <a href="/core-api/paths/">CakePath</a> object that represents the parent, and it will return a CakeDir that has the new parent, but maintains the same directory name as the source CakeDir object. We can control whether the source CakeDir's extension filter should be copied as well via an 
<a href="/core-api/special-types/policies/#extfilterclone">ExtFilterClone</a>
 policy argument, which by default will copy the extension filter.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="38:2"><input checked="checked" id="__tabbed_38_1" name="__tabbed_38" type="radio" /><input id="__tabbed_38_2" name="__tabbed_38" type="radio" /><div class="tabbed-labels"><label for="__tabbed_38_1">C++</label><label for="__tabbed_38_2">Blueprint</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="language-c++ highlight"><pre><span></span><code><a id="__codelineno-53-1" name="__codelineno-53-1"></a><a href="#__codelineno-53-1"><span class="linenos" data-linenos=" 1 "></span></a><span class="n">FCakeDir</span><span class="w">  </span><span class="n">DirectoryGame</span><span class="p">{</span><span class="w"> </span><span class="n">FCakePath</span><span class="p">{</span><span class="n">TEXTVIEW</span><span class="p">(</span><span class="s">&quot;X:/game/build/win64&quot;</span><span class="p">)},</span><span class="w"> </span><span class="n">TEXTVIEW</span><span class="p">(</span><span class="s">&quot;txt&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">};</span>
<a id="__codelineno-53-2" name="__codelineno-53-2"></a><a href="#__codelineno-53-2"><span class="linenos" data-linenos=" 2 "></span></a>
<a id="__codelineno-53-3" name="__codelineno-53-3"></a><a href="#__codelineno-53-3"><span class="linenos" data-linenos=" 3 "></span></a><span class="n">FCakePath</span><span class="w"> </span><span class="n">OtherParent</span><span class="w">  </span><span class="p">{</span><span class="w"> </span><span class="n">TEXTVIEW</span><span class="p">(</span><span class="s">&quot;Y:/archive/build&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">};</span>
<a id="__codelineno-53-4" name="__codelineno-53-4"></a><a href="#__codelineno-53-4"><span class="linenos" data-linenos=" 4 "></span></a>
<a id="__codelineno-53-5" name="__codelineno-53-5"></a><span class="hll"><a href="#__codelineno-53-5"><span class="linenos" data-linenos=" 5 "></span></a><span class="n">FCakeDir</span><span class="w">  </span><span class="n">OtherGameDir</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">DirectoryGame</span><span class="p">.</span><span class="n">CloneWithNewParent</span><span class="p">(</span><span class="n">OtherParent</span><span class="p">)</span><span class="w"> </span><span class="p">};</span>
</span><a id="__codelineno-53-6" name="__codelineno-53-6"></a><a href="#__codelineno-53-6"><span class="linenos" data-linenos=" 6 "></span></a><span class="c1">// Path: &quot;Y:/archive/build/win64</span>
<a id="__codelineno-53-7" name="__codelineno-53-7"></a><a href="#__codelineno-53-7"><span class="linenos" data-linenos=" 7 "></span></a><span class="c1">// Ext Filter: [&quot;.txt&quot;]</span>
<a id="__codelineno-53-8" name="__codelineno-53-8"></a><a href="#__codelineno-53-8"><span class="linenos" data-linenos=" 8 "></span></a>
<a id="__codelineno-53-9" name="__codelineno-53-9"></a><a href="#__codelineno-53-9"><span class="linenos" data-linenos=" 9 "></span></a><span class="n">FCakeDir</span><span class="w"> </span><span class="n">OtherGameDirNoFilter</span><span class="p">{</span><span class="w"> </span>
<a id="__codelineno-53-10" name="__codelineno-53-10"></a><span class="hll"><a href="#__codelineno-53-10"><span class="linenos" data-linenos="10 "></span></a><span class="w">    </span><span class="n">DirectoryGame</span><span class="p">.</span><span class="n">CloneWithNewParent</span><span class="p">(</span><span class="n">OtherParent</span><span class="p">,</span><span class="w"> </span><span class="n">ECakePolicyExtFilterClone</span><span class="o">::</span><span class="n">DoNotCloneFilter</span><span class="p">)</span><span class="w"> </span>
</span><a id="__codelineno-53-11" name="__codelineno-53-11"></a><a href="#__codelineno-53-11"><span class="linenos" data-linenos="11 "></span></a><span class="p">};</span>
<a id="__codelineno-53-12" name="__codelineno-53-12"></a><a href="#__codelineno-53-12"><span class="linenos" data-linenos="12 "></span></a><span class="c1">// Path: &quot;Y:/archive/build/win64</span>
<a id="__codelineno-53-13" name="__codelineno-53-13"></a><a href="#__codelineno-53-13"><span class="linenos" data-linenos="13 "></span></a><span class="c1">// Ext Filter: []</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<p><img alt="Clone With New Parent" src="../img/bp/dir/clone-with-new-parent.png" /></p>
</div>
</div>
</div>
<p>The cloned directory will hold the path: <code>Y:/archive/build/win64</code>.</p>
<h3 id="building-child-items">Building Child Items</h3>
<p>We can easily build CakePaths, CakeFiles, and CakeDirs that are parented under another CakeDir's directory path with the <code>BuildChild</code> family of functions. These are convenience functions meant to be used when a caller simply wants to create a child item without having to create any intermediate objects (e.g., the CakePath for a subsequent CakeFile).</p>
<h4 id="buildchildpath">BuildChildPath</h4>
<p>To build CakePath objects that are automatically parented under a CakeDir's directory path, we use <code>BuildChildPath</code>, passing the desired <strong>relative</strong> path string:</p>
<div class="tabbed-set tabbed-alternate" data-tabs="39:2"><input checked="checked" id="__tabbed_39_1" name="__tabbed_39" type="radio" /><input id="__tabbed_39_2" name="__tabbed_39" type="radio" /><div class="tabbed-labels"><label for="__tabbed_39_1">C++</label><label for="__tabbed_39_2">Blueprint</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="language-c++ highlight"><pre><span></span><code><a id="__codelineno-54-1" name="__codelineno-54-1"></a><a href="#__codelineno-54-1"><span class="linenos" data-linenos="1 "></span></a><span class="n">FCakeDir</span><span class="w"> </span><span class="n">ProjectDir</span><span class="p">{</span><span class="w"> </span><span class="n">TEXTVIEW</span><span class="p">(</span><span class="s">&quot;X:/cake-arena&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">};</span>
<a id="__codelineno-54-2" name="__codelineno-54-2"></a><a href="#__codelineno-54-2"><span class="linenos" data-linenos="2 "></span></a>
<a id="__codelineno-54-3" name="__codelineno-54-3"></a><a href="#__codelineno-54-3"><span class="linenos" data-linenos="3 "></span></a><span class="n">FCakePath</span><span class="w"> </span><span class="n">AssetsPath</span><span class="p">{</span><span class="w"> </span>
<a id="__codelineno-54-4" name="__codelineno-54-4"></a><span class="hll"><a href="#__codelineno-54-4"><span class="linenos" data-linenos="4 "></span></a><span class="w">    </span><span class="n">ProjectDir</span><span class="p">.</span><span class="n">BuildChildPath</span><span class="p">(</span><span class="w"> </span><span class="n">TEXTVIEW</span><span class="p">(</span><span class="s">&quot;data/assets&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">)</span><span class="w"> </span>
</span><a id="__codelineno-54-5" name="__codelineno-54-5"></a><a href="#__codelineno-54-5"><span class="linenos" data-linenos="5 "></span></a><span class="p">};</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<p><img alt="Build Child Path" src="../img/bp/dir/build-child-path.png" /></p>
</div>
</div>
</div>
<p>In the example above, the returned CakePath's path will be <code>X:/cake-arena/data/assets</code>.</p>
<h4 id="buildchildfile">BuildChildFile</h4>
<p>To build CakeFile objects whose file paths are automatically parented under a CakeDir's directory path, we use <code>BuildChildFile</code>, passing the desired <strong>relative</strong> file path string:</p>
<div class="tabbed-set tabbed-alternate" data-tabs="40:2"><input checked="checked" id="__tabbed_40_1" name="__tabbed_40" type="radio" /><input id="__tabbed_40_2" name="__tabbed_40" type="radio" /><div class="tabbed-labels"><label for="__tabbed_40_1">C++</label><label for="__tabbed_40_2">Blueprint</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="language-c++ highlight"><pre><span></span><code><a id="__codelineno-55-1" name="__codelineno-55-1"></a><a href="#__codelineno-55-1"><span class="linenos" data-linenos="1 "></span></a><span class="n">FCakeDir</span><span class="w"> </span><span class="n">ProjectDir</span><span class="p">{</span><span class="w"> </span><span class="n">FCakePath</span><span class="p">{</span><span class="n">TEXTVIEW</span><span class="p">(</span><span class="s">&quot;X:/cake-arena&quot;</span><span class="p">)}</span><span class="w"> </span><span class="p">};</span>
<a id="__codelineno-55-2" name="__codelineno-55-2"></a><a href="#__codelineno-55-2"><span class="linenos" data-linenos="2 "></span></a>
<a id="__codelineno-55-3" name="__codelineno-55-3"></a><a href="#__codelineno-55-3"><span class="linenos" data-linenos="3 "></span></a><span class="n">FCakeFile</span><span class="w"> </span><span class="n">HealthPotion</span><span class="p">{</span><span class="w"> </span>
<a id="__codelineno-55-4" name="__codelineno-55-4"></a><span class="hll"><a href="#__codelineno-55-4"><span class="linenos" data-linenos="4 "></span></a><span class="w">    </span><span class="n">ProjectDir</span><span class="p">.</span><span class="n">BuildChildFile</span><span class="p">(</span><span class="w"> </span><span class="n">TEXTVIEW</span><span class="p">(</span><span class="s">&quot;items/health-potion.dat&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">)</span><span class="w"> </span>
</span><a id="__codelineno-55-5" name="__codelineno-55-5"></a><a href="#__codelineno-55-5"><span class="linenos" data-linenos="5 "></span></a><span class="p">};</span>
<a id="__codelineno-55-6" name="__codelineno-55-6"></a><a href="#__codelineno-55-6"><span class="linenos" data-linenos="6 "></span></a><span class="c1">// File Path: &quot;X:/cake-arena/items/health-potion.dat&quot;</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<p><img alt="Build Child File" src="../img/bp/dir/build-child-file.png" /></p>
</div>
</div>
</div>
<p>In the example above, the returned CakeFile's file path will be <code>X:/cake-arena/items/health-potion.dat</code>.</p>
<h4 id="buildchilddir">BuildChildDir</h4>
<p>To build CakeDir objects whose directory paths are automatically parented under a CakeDir's directory path, we use <code>BuildChildDir</code>, passing the desired <strong>relative</strong> directory path string:</p>
<div class="tabbed-set tabbed-alternate" data-tabs="41:2"><input checked="checked" id="__tabbed_41_1" name="__tabbed_41" type="radio" /><input id="__tabbed_41_2" name="__tabbed_41" type="radio" /><div class="tabbed-labels"><label for="__tabbed_41_1">C++</label><label for="__tabbed_41_2">Blueprint</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="language-c++ highlight"><pre><span></span><code><a id="__codelineno-56-1" name="__codelineno-56-1"></a><a href="#__codelineno-56-1"><span class="linenos" data-linenos="1 "></span></a><span class="n">FCakeDir</span><span class="w"> </span><span class="n">ProjectDir</span><span class="p">{</span><span class="w"> </span><span class="n">FCakePath</span><span class="p">{</span><span class="n">TEXTVIEW</span><span class="p">(</span><span class="s">&quot;X:/cake-arena&quot;</span><span class="p">)}</span><span class="w"> </span><span class="p">};</span>
<a id="__codelineno-56-2" name="__codelineno-56-2"></a><a href="#__codelineno-56-2"><span class="linenos" data-linenos="2 "></span></a>
<a id="__codelineno-56-3" name="__codelineno-56-3"></a><a href="#__codelineno-56-3"><span class="linenos" data-linenos="3 "></span></a><span class="n">FCakeDir</span><span class="w"> </span><span class="n">ItemsDir</span><span class="p">{</span><span class="w"> </span>
<a id="__codelineno-56-4" name="__codelineno-56-4"></a><span class="hll"><a href="#__codelineno-56-4"><span class="linenos" data-linenos="4 "></span></a><span class="w">    </span><span class="n">ProjectDir</span><span class="p">.</span><span class="n">BuildChildDir</span><span class="p">(</span><span class="w"> </span><span class="n">TEXTVIEW</span><span class="p">(</span><span class="s">&quot;items&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">)</span><span class="w"> </span>
</span><a id="__codelineno-56-5" name="__codelineno-56-5"></a><a href="#__codelineno-56-5"><span class="linenos" data-linenos="5 "></span></a><span class="p">};</span>
<a id="__codelineno-56-6" name="__codelineno-56-6"></a><a href="#__codelineno-56-6"><span class="linenos" data-linenos="6 "></span></a><span class="c1">// Directory Path: &quot;X:/cake-arena/items&quot;</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<p><img alt="Build Child Dir" src="../img/bp/dir/build-child-dir.png" /></p>
</div>
</div>
</div>
<p>In the example above, the returned CakeDir's directory path will be <code>X:/cake-arena/items</code>.</p>
<p>We can also use the 
<a href="/core-api/special-types/policies/#extfilterclone">ExtFilterClone</a>
 parameter to control whether or not the child directory should copy the parent directory's file extension filter.</p>












                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.tabs", "navigation.tabs.sticky", "navigation.expand", "navigation.sections", "toc.integrate", "content.code.copy", "content.tabs.link", "content.tooltips"], "search": "../../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.f55a23d4.min.js"></script>
      
    
  </body>
</html>